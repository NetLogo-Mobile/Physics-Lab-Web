import{_ as x}from"./Navigation-Return-DzxIbTju.js";import{d as f,n as y,b as r,c as l,f as t,y as p,_ as w,r as d,e as m,w as h,u as _,h as U,g as L,l as N,F as D,i as S,j as b,N as j,G as C,a as B,o as E,H as A,x as R}from"./index-B-eZ0YOv.js";const T={class:"work-box"},W={class:"cover"},q=["src"],G={class:"info"},P={class:"title"},z={class:"user"},F={class:"avartar"},M=["src"],V={class:"name"},H=f({__name:"item",props:{item:{}},setup(e){const c=y(()=>`http://physics-static-cn.turtlesim.com:80/experiments/images/${e.item.ID.slice(0,4)}/${e.item.ID.slice(4,6)}/${e.item.ID.slice(6,8)}/${e.item.ID.slice(8,24)}/${e.item.Image||0}.jpg!block`),a=y(()=>e.item.User.Avatar===0?"/src/assets/user/default-avatar.png":`http://physics-static-cn.turtlesim.com:80/users/avatars/${e.item.User.ID.slice(0,4)}/${e.item.User.ID.slice(4,6)}/${e.item.User.ID.slice(6,8)}/${e.item.User.ID.slice(8,24)}/${e.item.User.Avatar}.jpg!tiny.round`);return(n,i)=>(r(),l("div",T,[t("div",W,[t("img",{src:c.value,alt:""},null,8,q)]),t("div",G,[t("div",P,p(n.item.Subject),1),t("div",z,[t("div",F,[t("img",{src:a.value,alt:"item.User.Nickname"},null,8,M)]),t("div",V,p(n.item.User.Nickname),1)])])]))}}),O=w(H,[["__scopeId","data-v-3a61f70e"]]),Q={key:0,class:"loading"},J={key:1},K={key:0},X=f({__name:"itemList",props:{row:Number,q:Object},setup(e){const c=d(!0),a=d([]),n=d(""),i=d(!1);let u=0;async function v(){var o;if(i.value===!0)return;i.value=!0;const s=await L("/Contents/QueryExperiments",{Query:{Category:"Discussion",Languages:[],ExcludeLanguages:null,Tags:["精选"],ModelTags:null,ExcludeTags:null,ModelID:null,ParentID:null,UserID:null,Special:null,From:n.value===""?null:n.value,Skip:u,Take:24,Days:0,Sort:0,ShowAnnouncement:!1,...e.q}});console.log(s),u+=24,a.value.push(...s.Data.$values),n.value=(o=a.value[a.value.length-1])==null?void 0:o.ID,i.value=!1}return v(),c.value=!1,(s,o)=>c.value?(r(),l("div",Q)):(r(),l("div",J,[m(_(C),{distance:10,onLoad:v,style:{height:"80dvh"}},{default:h(()=>[m(_(N),{cols:e.row||3,"x-gap":16,"y-gap":16,responsive:"screen"},{default:h(()=>[(r(!0),l(D,null,S(a.value,g=>(r(),b(_(j),{key:g.id},{default:h(()=>[m(O,{item:g},null,8,["item"])]),_:2},1024))),128))]),_:1},8,["cols"])]),_:1}),i.value?(r(),l("div",K,"加载中...")):U("",!0)]))}}),Y=w(X,[["__scopeId","data-v-826ac026"]]),Z={class:"list"},ee=f({__name:"WorkList",setup(e){const c=R(),a=d(i());function n(s){const o=atob(s),g=new Uint8Array([...o].map($=>$.charCodeAt(0))),I=new TextDecoder().decode(g),k=JSON.parse(I);return console.log(k),k}function i(){const s=window.innerWidth;switch(!0){case s>=1200:return 5;case s>=800:return 4;case s>=500:return 3;default:return 2}}const u=()=>{a.value=i()},v=()=>{window.history.back()};return B(()=>{window.addEventListener("resize",u)}),E(()=>{window.removeEventListener("resize",u)}),(s,o)=>(r(),l(D,null,[m(A,null,{default:h(()=>[t("img",{src:x,style:{width:"2.7em"},onClick:v}),o[0]||(o[0]=t("h2",{style:{"margin-right":"auto","margin-left":"20px"}},"作品列表",-1))]),_:1}),t("div",Z,[m(Y,{row:a.value,q:n(_(c).params.config)},null,8,["row","q"])])],64))}}),ae=w(ee,[["__scopeId","data-v-8fb15cb7"]]);export{ae as default};

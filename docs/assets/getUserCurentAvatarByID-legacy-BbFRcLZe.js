System.register(["./index-legacy-CCR1C6SU.js"],function(e,t){"use strict";var a,r,s;return{setters:[e=>{a=e.g,r=e.e,s=e.i}],execute:function(){e("g",async function(e,n=!0){let u=0;if(n&&t[e]&&Math.abs(Date.now()-t[e][1])<2592e5&&void 0!==t[e][0]&&null!==t[e][0])u=t[e][0];else try{var o;const s=new Promise((e,t)=>{setTimeout(()=>t(new Error("请求超时")),3e4)});if(u=null===(o=(await Promise.race([a("/Users/GetUser",{ID:e}),s])).Data)||void 0===o||null===(o=o.User)||void 0===o?void 0:o.Avatar,!u)return window.$getPath("/@base/assets/user/default-avatar.png");t[e]=[u,Date.now()],r.setObj("userIDAndAvartarIDMap",t,2592e5)}catch(i){return console.error("获取头像失败",i),window.$getPath("/@base/assets/user/default-avatar.png")}return s({ID:e,Avatar:u})});let t=(()=>{const e=r.getObj("userIDAndAvartarIDMap");return"success"===e.status&&e.value?e.value:{}})()}}});

import{_ as En}from"./Navigation-Return-CUJ0SQdH.js";import{t as Fe,V as Ft,v as Ut,w as ot,x as Gt,y as xt,z as We,A as An,C as ht,D as je,G as W,I as L,J as de,K as qt,L as Ke,M as pe,O as Xt,P as ee,Q as Ue,R as zt,S as Ln,T as _e,U as Rt,W as ne,X as Oe,Y as Yt,Z as lt,$ as Nn,a0 as Hn,a1 as Dn,a2 as Tt,a3 as $e,a4 as Wn,a5 as U,a6 as Vn,a7 as Mt,a8 as ve,a9 as jn,aa as Kn,ab as Un,ac as Gn,ad as qn,ae as Xn,af as Yn,ag as Zn,ah as wt,ai as _t,aj as $t,ak as Jn,al as Qn,am as eo,an as to,ao as no,o as Te,f as et,e as St,_ as oo}from"./index-D6Hz3-vS.js";import{s as ro}from"./system.config-Nd7wdUBW.js";import{r as _,c as E,p as it,j as ue,i as Pt,l as h,z as lo,o as Ge,e as Zt,f as io,t as le,n as It,m as ao,w as Se,b as Jt,x as Qt,F as rt,u as so,k as co,v as uo,G as fo,K as Pe,L as me,h as ho,S as tt,W as Bt,M as Et,O as Ie,X as vo,J as go}from"./vue-DM6FGnPB.js";import"./domPurify-BPcjySmD.js";function Ve(e,n){let{target:t}=e;for(;t;){if(t.dataset&&t.dataset[n]!==void 0)return!0;t=t.parentElement}return!1}function At(e){return e&-e}class en{constructor(n,t){this.l=n,this.min=t;const o=new Array(n+1);for(let r=0;r<n+1;++r)o[r]=0;this.ft=o}add(n,t){if(t===0)return;const{l:o,ft:r}=this;for(n+=1;n<=o;)r[n]+=t,n+=At(n)}get(n){return this.sum(n+1)-this.sum(n)}sum(n){if(n===void 0&&(n=this.l),n<=0)return 0;const{ft:t,min:o,l:r}=this;if(n>r)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let s=n*o;for(;n>0;)s+=t[n],n-=At(n);return s}getBound(n){let t=0,o=this.l;for(;o>t;){const r=Math.floor((t+o)/2),s=this.sum(r);if(s>n){o=r;continue}else if(s<n){if(t===r)return this.sum(t+1)<=n?t+1:r;t=r}else return r}return t}}let nt;function po(){return typeof document>"u"?!1:(nt===void 0&&("matchMedia"in window?nt=window.matchMedia("(pointer:coarse)").matches:nt=!1),nt)}let vt;function Lt(){return typeof document>"u"?1:(vt===void 0&&(vt="chrome"in window?window.devicePixelRatio:1),vt)}const tn="VVirtualListXScroll";function bo({columnsRef:e,renderColRef:n,renderItemWithColsRef:t}){const o=_(0),r=_(0),s=E(()=>{const u=e.value;if(u.length===0)return null;const d=new en(u.length,0);return u.forEach((f,w)=>{d.add(w,f.width)}),d}),l=Fe(()=>{const u=s.value;return u!==null?Math.max(u.getBound(r.value)-1,0):0}),i=u=>{const d=s.value;return d!==null?d.sum(u):0},c=Fe(()=>{const u=s.value;return u!==null?Math.min(u.getBound(r.value+o.value)+1,e.value.length-1):0});return it(tn,{startIndexRef:l,endIndexRef:c,columnsRef:e,renderColRef:n,renderItemWithColsRef:t,getLeft:i}),{listWidthRef:o,scrollLeftRef:r}}const Nt=ue({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:e,endIndexRef:n,columnsRef:t,getLeft:o,renderColRef:r,renderItemWithColsRef:s}=Pt(tn);return{startIndex:e,endIndex:n,columns:t,renderCol:r,renderItemWithCols:s,getLeft:o}},render(){const{startIndex:e,endIndex:n,columns:t,renderCol:o,renderItemWithCols:r,getLeft:s,item:l}=this;if(r!=null)return r({itemIndex:this.index,startColIndex:e,endColIndex:n,allColumns:t,item:l,getLeft:s});if(o!=null){const i=[];for(let c=e;c<=n;++c){const u=t[c];i.push(o({column:u,left:s(c),item:l}))}return i}return null}}),mo=ot(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[ot("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[ot("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),yo=ue({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const n=Ut();mo.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:Gt,ssr:n}),Ge(()=>{const{defaultScrollIndex:p,defaultScrollKey:z}=e;p!=null?O({index:p}):z!=null&&O({key:z})});let t=!1,o=!1;Zt(()=>{if(t=!1,!o){o=!0;return}O({top:m.value,left:l.value})}),io(()=>{t=!0,o||(o=!0)});const r=Fe(()=>{if(e.renderCol==null&&e.renderItemWithCols==null||e.columns.length===0)return;let p=0;return e.columns.forEach(z=>{p+=z.width}),p}),s=E(()=>{const p=new Map,{keyField:z}=e;return e.items.forEach((N,X)=>{p.set(N[z],X)}),p}),{scrollLeftRef:l,listWidthRef:i}=bo({columnsRef:le(e,"columns"),renderColRef:le(e,"renderCol"),renderItemWithColsRef:le(e,"renderItemWithCols")}),c=_(null),u=_(void 0),d=new Map,f=E(()=>{const{items:p,itemSize:z,keyField:N}=e,X=new en(p.length,z);return p.forEach((J,Y)=>{const Z=J[N],j=d.get(Z);j!==void 0&&X.add(Y,j)}),X}),w=_(0),m=_(0),v=Fe(()=>Math.max(f.value.getBound(m.value-xt(e.paddingTop))-1,0)),I=E(()=>{const{value:p}=u;if(p===void 0)return[];const{items:z,itemSize:N}=e,X=v.value,J=Math.min(X+Math.ceil(p/N+1),z.length-1),Y=[];for(let Z=X;Z<=J;++Z)Y.push(z[Z]);return Y}),O=(p,z)=>{if(typeof p=="number"){g(p,z,"auto");return}const{left:N,top:X,index:J,key:Y,position:Z,behavior:j,debounce:te=!0}=p;if(N!==void 0||X!==void 0)g(N,X,j);else if(J!==void 0)T(J,j,te);else if(Y!==void 0){const y=s.value.get(Y);y!==void 0&&T(y,j,te)}else Z==="bottom"?g(0,Number.MAX_SAFE_INTEGER,j):Z==="top"&&g(0,0,j)};let R,P=null;function T(p,z,N){const{value:X}=f,J=X.sum(p)+xt(e.paddingTop);if(!N)c.value.scrollTo({left:0,top:J,behavior:z});else{R=p,P!==null&&window.clearTimeout(P),P=window.setTimeout(()=>{R=void 0,P=null},16);const{scrollTop:Y,offsetHeight:Z}=c.value;if(J>Y){const j=X.get(p);J+j<=Y+Z||c.value.scrollTo({left:0,top:J+j-Z,behavior:z})}else c.value.scrollTo({left:0,top:J,behavior:z})}}function g(p,z,N){c.value.scrollTo({left:p,top:z,behavior:N})}function C(p,z){var N,X,J;if(t||e.ignoreItemResize||ie(z.target))return;const{value:Y}=f,Z=s.value.get(p),j=Y.get(Z),te=(J=(X=(N=z.borderBoxSize)===null||N===void 0?void 0:N[0])===null||X===void 0?void 0:X.blockSize)!==null&&J!==void 0?J:z.contentRect.height;if(te===j)return;te-e.itemSize===0?d.delete(p):d.set(p,te-e.itemSize);const S=te-j;if(S===0)return;Y.add(Z,S);const K=c.value;if(K!=null){if(R===void 0){const ae=Y.sum(Z);K.scrollTop>ae&&K.scrollBy(0,S)}else if(Z<R)K.scrollBy(0,S);else if(Z===R){const ae=Y.sum(Z);te+ae>K.scrollTop+K.offsetHeight&&K.scrollBy(0,S)}Q()}w.value++}const $=!po();let M=!1;function G(p){var z;(z=e.onScroll)===null||z===void 0||z.call(e,p),(!$||!M)&&Q()}function q(p){var z;if((z=e.onWheel)===null||z===void 0||z.call(e,p),$){const N=c.value;if(N!=null){if(p.deltaX===0&&(N.scrollTop===0&&p.deltaY<=0||N.scrollTop+N.offsetHeight>=N.scrollHeight&&p.deltaY>=0))return;p.preventDefault(),N.scrollTop+=p.deltaY/Lt(),N.scrollLeft+=p.deltaX/Lt(),Q(),M=!0,An(()=>{M=!1})}}}function B(p){if(t||ie(p.target))return;if(e.renderCol==null&&e.renderItemWithCols==null){if(p.contentRect.height===u.value)return}else if(p.contentRect.height===u.value&&p.contentRect.width===i.value)return;u.value=p.contentRect.height,i.value=p.contentRect.width;const{onResize:z}=e;z!==void 0&&z(p)}function Q(){const{value:p}=c;p!=null&&(m.value=p.scrollTop,l.value=p.scrollLeft)}function ie(p){let z=p;for(;z!==null;){if(z.style.display==="none")return!0;z=z.parentElement}return!1}return{listHeight:u,listStyle:{overflow:"auto"},keyToIndex:s,itemsStyle:E(()=>{const{itemResizable:p}=e,z=We(f.value.sum());return w.value,[e.itemsStyle,{boxSizing:"content-box",width:We(r.value),height:p?"":z,minHeight:p?z:"",paddingTop:We(e.paddingTop),paddingBottom:We(e.paddingBottom)}]}),visibleItemsStyle:E(()=>(w.value,{transform:"translateY(".concat(We(f.value.sum(v.value)),")")})),viewportItems:I,listElRef:c,itemsElRef:_(null),scrollTo:O,handleListResize:B,handleListScroll:G,handleListWheel:q,handleItemResize:C}},render(){const{itemResizable:e,keyField:n,keyToIndex:t,visibleItemsTag:o}=this;return h(Ft,{onResize:this.handleListResize},{default:()=>{var r,s;return h("div",lo(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?h("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[h(o,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:l,renderItemWithCols:i}=this;return this.viewportItems.map(c=>{const u=c[n],d=t.get(u),f=l!=null?h(Nt,{index:d,item:c}):void 0,w=i!=null?h(Nt,{index:d,item:c}):void 0,m=this.$slots.default({item:c,renderedCols:f,renderedItemWithCols:w,index:d})[0];return e?h(Ft,{key:u,onResize:v=>this.handleItemResize(u,v)},{default:()=>m}):(m.key=u,m)})}})]):(s=(r=this.$slots).empty)===null||s===void 0?void 0:s.call(r)])}})}}),ye="v-hidden",Co=ot("[v-hidden]",{display:"none!important"}),Ht=ue({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(e,{slots:n}){const t=_(null),o=_(null);function r(l){const{value:i}=t,{getCounter:c,getTail:u}=e;let d;if(c!==void 0?d=c():d=o.value,!i||!d)return;d.hasAttribute(ye)&&d.removeAttribute(ye);const{children:f}=i;if(l.showAllItemsBeforeCalculate)for(const T of f)T.hasAttribute(ye)&&T.removeAttribute(ye);const w=i.offsetWidth,m=[],v=n.tail?u==null?void 0:u():null;let I=v?v.offsetWidth:0,O=!1;const R=i.children.length-(n.tail?1:0);for(let T=0;T<R-1;++T){if(T<0)continue;const g=f[T];if(O){g.hasAttribute(ye)||g.setAttribute(ye,"");continue}else g.hasAttribute(ye)&&g.removeAttribute(ye);const C=g.offsetWidth;if(I+=C,m[T]=C,I>w){const{updateCounter:$}=e;for(let M=T;M>=0;--M){const G=R-1-M;$!==void 0?$(G):d.textContent="".concat(G);const q=d.offsetWidth;if(I-=m[M],I+q<=w||M===0){O=!0,T=M-1,v&&(T===-1?(v.style.maxWidth="".concat(w-q,"px"),v.style.boxSizing="border-box"):v.style.maxWidth="");const{onUpdateCount:B}=e;B&&B(G);break}}}}const{onUpdateOverflow:P}=e;O?P!==void 0&&P(!0):(P!==void 0&&P(!1),d.setAttribute(ye,""))}const s=Ut();return Co.mount({id:"vueuc/overflow",head:!0,anchorMetaName:Gt,ssr:s}),Ge(()=>r({showAllItemsBeforeCalculate:!1})),{selfRef:t,counterRef:o,sync:r}},render(){const{$slots:e}=this;return It(()=>this.sync({showAllItemsBeforeCalculate:!1})),h("div",{class:"v-overflow",ref:"selfRef"},[ao(e,"default"),e.counter?e.counter():h("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function nn(e,n){n&&(Ge(()=>{const{value:t}=e;t&&ht.registerHandler(t,n)}),Se(e,(t,o)=>{o&&ht.unregisterHandler(o)},{deep:!1}),Jt(()=>{const{value:t}=e;t&&ht.unregisterHandler(t)}))}function Dt(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function gt(e){const n=e.filter(t=>t!==void 0);if(n.length!==0)return n.length===1?n[0]:t=>{e.forEach(o=>{o&&o(t)})}}const xo=ue({name:"Checkmark",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},h("g",{fill:"none"},h("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),wo=ue({name:"Empty",render(){return h("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),h("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),So=ue({props:{onFocus:Function,onBlur:Function},setup(e){return()=>h("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}});function Wt(e){return Array.isArray(e)?e:[e]}const kt={STOP:"STOP"};function on(e,n){const t=n(e);e.children!==void 0&&t!==kt.STOP&&e.children.forEach(o=>on(o,n))}function ko(e,n={}){const{preserveGroup:t=!1}=n,o=[],r=t?l=>{l.isLeaf||(o.push(l.key),s(l.children))}:l=>{l.isLeaf||(l.isGroup||o.push(l.key),s(l.children))};function s(l){l.forEach(r)}return s(e),o}function zo(e,n){const{isLeaf:t}=e;return t!==void 0?t:!n(e)}function Ro(e){return e.children}function To(e){return e.key}function Po(){return!1}function Io(e,n){const{isLeaf:t}=e;return!(t===!1&&!Array.isArray(n(e)))}function Oo(e){return e.disabled===!0}function Fo(e,n){return e.isLeaf===!1&&!Array.isArray(n(e))}function pt(e){var n;return e==null?[]:Array.isArray(e)?e:(n=e.checkedKeys)!==null&&n!==void 0?n:[]}function bt(e){var n;return e==null||Array.isArray(e)?[]:(n=e.indeterminateKeys)!==null&&n!==void 0?n:[]}function Mo(e,n){const t=new Set(e);return n.forEach(o=>{t.has(o)||t.add(o)}),Array.from(t)}function _o(e,n){const t=new Set(e);return n.forEach(o=>{t.has(o)&&t.delete(o)}),Array.from(t)}function $o(e){return(e==null?void 0:e.type)==="group"}function Bo(e){const n=new Map;return e.forEach((t,o)=>{n.set(t.key,o)}),t=>{var o;return(o=n.get(t))!==null&&o!==void 0?o:null}}class Eo extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function Ao(e,n,t,o){return at(n.concat(e),t,o,!1)}function Lo(e,n){const t=new Set;return e.forEach(o=>{const r=n.treeNodeMap.get(o);if(r!==void 0){let s=r.parent;for(;s!==null&&!(s.disabled||t.has(s.key));)t.add(s.key),s=s.parent}}),t}function No(e,n,t,o){const r=at(n,t,o,!1),s=at(e,t,o,!0),l=Lo(e,t),i=[];return r.forEach(c=>{(s.has(c)||l.has(c))&&i.push(c)}),i.forEach(c=>r.delete(c)),r}function mt(e,n){const{checkedKeys:t,keysToCheck:o,keysToUncheck:r,indeterminateKeys:s,cascade:l,leafOnly:i,checkStrategy:c,allowNotLoaded:u}=e;if(!l)return o!==void 0?{checkedKeys:Mo(t,o),indeterminateKeys:Array.from(s)}:r!==void 0?{checkedKeys:_o(t,r),indeterminateKeys:Array.from(s)}:{checkedKeys:Array.from(t),indeterminateKeys:Array.from(s)};const{levelTreeNodeMap:d}=n;let f;r!==void 0?f=No(r,t,n,u):o!==void 0?f=Ao(o,t,n,u):f=at(t,n,u,!1);const w=c==="parent",m=c==="child"||i,v=f,I=new Set,O=Math.max.apply(null,Array.from(d.keys()));for(let R=O;R>=0;R-=1){const P=R===0,T=d.get(R);for(const g of T){if(g.isLeaf)continue;const{key:C,shallowLoaded:$}=g;if(m&&$&&g.children.forEach(B=>{!B.disabled&&!B.isLeaf&&B.shallowLoaded&&v.has(B.key)&&v.delete(B.key)}),g.disabled||!$)continue;let M=!0,G=!1,q=!0;for(const B of g.children){const Q=B.key;if(!B.disabled){if(q&&(q=!1),v.has(Q))G=!0;else if(I.has(Q)){G=!0,M=!1;break}else if(M=!1,G)break}}M&&!q?(w&&g.children.forEach(B=>{!B.disabled&&v.has(B.key)&&v.delete(B.key)}),v.add(C)):G&&I.add(C),P&&m&&v.has(C)&&v.delete(C)}}return{checkedKeys:Array.from(v),indeterminateKeys:Array.from(I)}}function at(e,n,t,o){const{treeNodeMap:r,getChildren:s}=n,l=new Set,i=new Set(e);return e.forEach(c=>{const u=r.get(c);u!==void 0&&on(u,d=>{if(d.disabled)return kt.STOP;const{key:f}=d;if(!l.has(f)&&(l.add(f),i.add(f),Fo(d.rawNode,s))){if(o)return kt.STOP;if(!t)throw new Eo}})}),i}function Ho(e,{includeGroup:n=!1,includeSelf:t=!0},o){var r;const s=o.treeNodeMap;let l=e==null?null:(r=s.get(e))!==null&&r!==void 0?r:null;const i={keyPath:[],treeNodePath:[],treeNode:l};if(l!=null&&l.ignored)return i.treeNode=null,i;for(;l;)!l.ignored&&(n||!l.isGroup)&&i.treeNodePath.push(l),l=l.parent;return i.treeNodePath.reverse(),t||i.treeNodePath.pop(),i.keyPath=i.treeNodePath.map(c=>c.key),i}function Do(e){if(e.length===0)return null;const n=e[0];return n.isGroup||n.ignored||n.disabled?n.getNext():n}function Wo(e,n){const t=e.siblings,o=t.length,{index:r}=e;return n?t[(r+1)%o]:r===t.length-1?null:t[r+1]}function Vt(e,n,{loop:t=!1,includeDisabled:o=!1}={}){const r=n==="prev"?Vo:Wo,s={reverse:n==="prev"};let l=!1,i=null;function c(u){if(u!==null){if(u===e){if(!l)l=!0;else if(!e.disabled&&!e.isGroup){i=e;return}}else if((!u.disabled||o)&&!u.ignored&&!u.isGroup){i=u;return}if(u.isGroup){const d=Ot(u,s);d!==null?i=d:c(r(u,t))}else{const d=r(u,!1);if(d!==null)c(d);else{const f=jo(u);f!=null&&f.isGroup?c(r(f,t)):t&&c(r(u,!0))}}}}return c(e),i}function Vo(e,n){const t=e.siblings,o=t.length,{index:r}=e;return n?t[(r-1+o)%o]:r===0?null:t[r-1]}function jo(e){return e.parent}function Ot(e,n={}){const{reverse:t=!1}=n,{children:o}=e;if(o){const{length:r}=o,s=t?r-1:0,l=t?-1:r,i=t?-1:1;for(let c=s;c!==l;c+=i){const u=o[c];if(!u.disabled&&!u.ignored)if(u.isGroup){const d=Ot(u,n);if(d!==null)return d}else return u}}return null}const Ko={getChild(){return this.ignored?null:Ot(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return Vt(this,"next",e)},getPrev(e={}){return Vt(this,"prev",e)}};function Uo(e,n){const t=n?new Set(n):void 0,o=[];function r(s){s.forEach(l=>{o.push(l),!(l.isLeaf||!l.children||l.ignored)&&(l.isGroup||t===void 0||t.has(l.key))&&r(l.children)})}return r(e),o}function Go(e,n){const t=e.key;for(;n;){if(n.key===t)return!0;n=n.parent}return!1}function rn(e,n,t,o,r,s=null,l=0){const i=[];return e.forEach((c,u)=>{var d;const f=Object.create(o);if(f.rawNode=c,f.siblings=i,f.level=l,f.index=u,f.isFirstChild=u===0,f.isLastChild=u+1===e.length,f.parent=s,!f.ignored){const w=r(c);Array.isArray(w)&&(f.children=rn(w,n,t,o,r,f,l+1))}i.push(f),n.set(f.key,f),t.has(l)||t.set(l,[]),(d=t.get(l))===null||d===void 0||d.push(f)}),i}function qo(e,n={}){var t;const o=new Map,r=new Map,{getDisabled:s=Oo,getIgnored:l=Po,getIsGroup:i=$o,getKey:c=To}=n,u=(t=n.getChildren)!==null&&t!==void 0?t:Ro,d=n.ignoreEmptyChildren?g=>{const C=u(g);return Array.isArray(C)?C.length?C:null:C}:u,f=Object.assign({get key(){return c(this.rawNode)},get disabled(){return s(this.rawNode)},get isGroup(){return i(this.rawNode)},get isLeaf(){return zo(this.rawNode,d)},get shallowLoaded(){return Io(this.rawNode,d)},get ignored(){return l(this.rawNode)},contains(g){return Go(this,g)}},Ko),w=rn(e,o,r,f,d);function m(g){if(g==null)return null;const C=o.get(g);return C&&!C.isGroup&&!C.ignored?C:null}function v(g){if(g==null)return null;const C=o.get(g);return C&&!C.ignored?C:null}function I(g,C){const $=v(g);return $?$.getPrev(C):null}function O(g,C){const $=v(g);return $?$.getNext(C):null}function R(g){const C=v(g);return C?C.getParent():null}function P(g){const C=v(g);return C?C.getChild():null}const T={treeNodes:w,treeNodeMap:o,levelTreeNodeMap:r,maxLevel:Math.max(...r.keys()),getChildren:d,getFlattenedNodes(g){return Uo(w,g)},getNode:m,getPrev:I,getNext:O,getParent:R,getChild:P,getFirstAvailableNode(){return Do(w)},getPath(g,C={}){return Ho(g,C,T)},getCheckedKeys(g,C={}){const{cascade:$=!0,leafOnly:M=!1,checkStrategy:G="all",allowNotLoaded:q=!1}=C;return mt({checkedKeys:pt(g),indeterminateKeys:bt(g),cascade:$,leafOnly:M,checkStrategy:G,allowNotLoaded:q},T)},check(g,C,$={}){const{cascade:M=!0,leafOnly:G=!1,checkStrategy:q="all",allowNotLoaded:B=!1}=$;return mt({checkedKeys:pt(C),indeterminateKeys:bt(C),keysToCheck:g==null?[]:Wt(g),cascade:M,leafOnly:G,checkStrategy:q,allowNotLoaded:B},T)},uncheck(g,C,$={}){const{cascade:M=!0,leafOnly:G=!1,checkStrategy:q="all",allowNotLoaded:B=!1}=$;return mt({checkedKeys:pt(C),indeterminateKeys:bt(C),keysToUncheck:g==null?[]:Wt(g),cascade:M,leafOnly:G,checkStrategy:q,allowNotLoaded:B},T)},getNonLeafKeys(g={}){return ko(w,g)}};return T}const Xo={iconSizeTiny:"28px",iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};function Yo(e){const{textColorDisabled:n,iconColor:t,textColor2:o,fontSizeTiny:r,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:i,fontSizeHuge:c}=e;return Object.assign(Object.assign({},Xo),{fontSizeTiny:r,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:i,fontSizeHuge:c,textColor:n,iconColor:t,extraTextColor:o})}const ln={name:"Empty",common:je,self:Yo},Zo=W("empty","\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n",[L("icon","\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n ",[de("+",[L("description","\n margin-top: 8px;\n ")])]),L("description","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n "),L("extra","\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n ")]),Jo=Object.assign(Object.assign({},pe.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Qo=ue({name:"Empty",props:Jo,slots:Object,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:t,mergedComponentPropsRef:o}=Ke(e),r=pe("Empty","-empty",Zo,ln,e,n),{localeRef:s}=Xt("Empty"),l=E(()=>{var d,f,w;return(d=e.description)!==null&&d!==void 0?d:(w=(f=o==null?void 0:o.value)===null||f===void 0?void 0:f.Empty)===null||w===void 0?void 0:w.description}),i=E(()=>{var d,f;return((f=(d=o==null?void 0:o.value)===null||d===void 0?void 0:d.Empty)===null||f===void 0?void 0:f.renderIcon)||(()=>h(wo,null))}),c=E(()=>{const{size:d}=e,{common:{cubicBezierEaseInOut:f},self:{[ee("iconSize",d)]:w,[ee("fontSize",d)]:m,textColor:v,iconColor:I,extraTextColor:O}}=r.value;return{"--n-icon-size":w,"--n-font-size":m,"--n-bezier":f,"--n-text-color":v,"--n-icon-color":I,"--n-extra-text-color":O}}),u=t?Ue("empty",E(()=>{let d="";const{size:f}=e;return d+=f[0],d}),c,e):void 0;return{mergedClsPrefix:n,mergedRenderIcon:i,localizedDescription:E(()=>l.value||s.value.description),cssVars:t?void 0:c,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){const{$slots:e,mergedClsPrefix:n,onRender:t}=this;return t==null||t(),h("div",{class:["".concat(n,"-empty"),this.themeClass],style:this.cssVars},this.showIcon?h("div",{class:"".concat(n,"-empty__icon")},e.icon?e.icon():h(qt,{clsPrefix:n},{default:this.mergedRenderIcon})):null,this.showDescription?h("div",{class:"".concat(n,"-empty__description")},e.default?e.default():this.localizedDescription):null,e.extra?h("div",{class:"".concat(n,"-empty__extra")},e.extra()):null)}}),er={height:"calc(var(--n-option-height) * 7.6)",paddingTiny:"4px 0",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingTiny:"0 12px",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};function tr(e){const{borderRadius:n,popoverColor:t,textColor3:o,dividerColor:r,textColor2:s,primaryColorPressed:l,textColorDisabled:i,primaryColor:c,opacityDisabled:u,hoverColor:d,fontSizeTiny:f,fontSizeSmall:w,fontSizeMedium:m,fontSizeLarge:v,fontSizeHuge:I,heightTiny:O,heightSmall:R,heightMedium:P,heightLarge:T,heightHuge:g}=e;return Object.assign(Object.assign({},er),{optionFontSizeTiny:f,optionFontSizeSmall:w,optionFontSizeMedium:m,optionFontSizeLarge:v,optionFontSizeHuge:I,optionHeightTiny:O,optionHeightSmall:R,optionHeightMedium:P,optionHeightLarge:T,optionHeightHuge:g,borderRadius:n,color:t,groupHeaderTextColor:o,actionDividerColor:r,optionTextColor:s,optionTextColorPressed:l,optionTextColorDisabled:i,optionTextColorActive:c,optionOpacityDisabled:u,optionCheckColor:c,optionColorPending:d,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:d,actionTextColor:s,loadingColor:c})}const an=zt({name:"InternalSelectMenu",common:je,peers:{Scrollbar:Ln,Empty:ln},self:tr}),jt=ue({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:n,labelFieldRef:t,nodePropsRef:o}=Pt(Rt);return{labelField:t,nodeProps:o,renderLabel:e,renderOption:n}},render(){const{clsPrefix:e,renderLabel:n,renderOption:t,nodeProps:o,tmNode:{rawNode:r}}=this,s=o==null?void 0:o(r),l=n?n(r,!1):_e(r[this.labelField],r,!1),i=h("div",Object.assign({},s,{class:["".concat(e,"-base-select-group-header"),s==null?void 0:s.class]}),l);return r.render?r.render({node:i,option:r}):t?t({node:i,option:r,selected:!1}):i}});function nr(e,n){return h(Qt,{name:"fade-in-scale-up-transition"},{default:()=>e?h(qt,{clsPrefix:n,class:"".concat(n,"-base-select-option__check")},{default:()=>h(xo)}):null})}const Kt=ue({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:n,pendingTmNodeRef:t,multipleRef:o,valueSetRef:r,renderLabelRef:s,renderOptionRef:l,labelFieldRef:i,valueFieldRef:c,showCheckmarkRef:u,nodePropsRef:d,handleOptionClick:f,handleOptionMouseEnter:w}=Pt(Rt),m=Fe(()=>{const{value:R}=t;return R?e.tmNode.key===R.key:!1});function v(R){const{tmNode:P}=e;P.disabled||f(R,P)}function I(R){const{tmNode:P}=e;P.disabled||w(R,P)}function O(R){const{tmNode:P}=e,{value:T}=m;P.disabled||T||w(R,P)}return{multiple:o,isGrouped:Fe(()=>{const{tmNode:R}=e,{parent:P}=R;return P&&P.rawNode.type==="group"}),showCheckmark:u,nodeProps:d,isPending:m,isSelected:Fe(()=>{const{value:R}=n,{value:P}=o;if(R===null)return!1;const T=e.tmNode.rawNode[c.value];if(P){const{value:g}=r;return g.has(T)}else return R===T}),labelField:i,renderLabel:s,renderOption:l,handleMouseMove:O,handleMouseEnter:I,handleClick:v}},render(){const{clsPrefix:e,tmNode:{rawNode:n},isSelected:t,isPending:o,isGrouped:r,showCheckmark:s,nodeProps:l,renderOption:i,renderLabel:c,handleClick:u,handleMouseEnter:d,handleMouseMove:f}=this,w=nr(t,e),m=c?[c(n,t),s&&w]:[_e(n[this.labelField],n,t),s&&w],v=l==null?void 0:l(n),I=h("div",Object.assign({},v,{class:["".concat(e,"-base-select-option"),n.class,v==null?void 0:v.class,{["".concat(e,"-base-select-option--disabled")]:n.disabled,["".concat(e,"-base-select-option--selected")]:t,["".concat(e,"-base-select-option--grouped")]:r,["".concat(e,"-base-select-option--pending")]:o,["".concat(e,"-base-select-option--show-checkmark")]:s}],style:[(v==null?void 0:v.style)||"",n.style||""],onClick:gt([u,v==null?void 0:v.onClick]),onMouseenter:gt([d,v==null?void 0:v.onMouseenter]),onMousemove:gt([f,v==null?void 0:v.onMousemove])}),h("div",{class:"".concat(e,"-base-select-option__content")},m));return n.render?n.render({node:I,option:n,selected:t}):i?i({node:I,option:n,selected:t}):I}}),or=W("base-select-menu","\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n",[W("scrollbar","\n max-height: var(--n-height);\n "),W("virtual-list","\n max-height: var(--n-height);\n "),W("base-select-option","\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n ",[L("content","\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n ")]),W("base-select-group-header","\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n "),W("base-select-menu-option-wrapper","\n position: relative;\n width: 100%;\n "),L("loading, empty","\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n "),L("loading","\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n "),L("header","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),L("action","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),W("base-select-group-header","\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n "),W("base-select-option","\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n ",[ne("show-checkmark","\n padding-right: calc(var(--n-option-padding-right) + 20px);\n "),de("&::before",'\n content: "";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n '),de("&:active","\n color: var(--n-option-text-color-pressed);\n "),ne("grouped","\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n "),ne("pending",[de("&::before","\n background-color: var(--n-option-color-pending);\n ")]),ne("selected","\n color: var(--n-option-text-color-active);\n ",[de("&::before","\n background-color: var(--n-option-color-active);\n "),ne("pending",[de("&::before","\n background-color: var(--n-option-color-active-pending);\n ")])]),ne("disabled","\n cursor: not-allowed;\n ",[Oe("selected","\n color: var(--n-option-text-color-disabled);\n "),ne("selected","\n opacity: var(--n-option-opacity-disabled);\n ")]),L("check","\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n ",[Yt({enterScale:"0.5"})])])]),rr=ue({name:"InternalSelectMenu",props:Object.assign(Object.assign({},pe.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const{mergedClsPrefixRef:n,mergedRtlRef:t}=Ke(e),o=Tt("InternalSelectMenu",t,n),r=pe("InternalSelectMenu","-internal-select-menu",or,an,e,le(e,"clsPrefix")),s=_(null),l=_(null),i=_(null),c=E(()=>e.treeMate.getFlattenedNodes()),u=E(()=>Bo(c.value)),d=_(null);function f(){const{treeMate:y}=e;let S=null;const{value:K}=e;K===null?S=y.getFirstAvailableNode():(e.multiple?S=y.getNode((K||[])[(K||[]).length-1]):S=y.getNode(K),(!S||S.disabled)&&(S=y.getFirstAvailableNode())),z(S||null)}function w(){const{value:y}=d;y&&!e.treeMate.getNode(y.key)&&(d.value=null)}let m;Se(()=>e.show,y=>{y?m=Se(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?f():w(),It(N)):w()},{immediate:!0}):m==null||m()},{immediate:!0}),Jt(()=>{m==null||m()});const v=E(()=>xt(r.value.self[ee("optionHeight",e.size)])),I=E(()=>$e(r.value.self[ee("padding",e.size)])),O=E(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),R=E(()=>{const y=c.value;return y&&y.length===0});function P(y){const{onToggle:S}=e;S&&S(y)}function T(y){const{onScroll:S}=e;S&&S(y)}function g(y){var S;(S=i.value)===null||S===void 0||S.sync(),T(y)}function C(){var y;(y=i.value)===null||y===void 0||y.sync()}function $(){const{value:y}=d;return y||null}function M(y,S){S.disabled||z(S,!1)}function G(y,S){S.disabled||P(S)}function q(y){var S;Ve(y,"action")||(S=e.onKeyup)===null||S===void 0||S.call(e,y)}function B(y){var S;Ve(y,"action")||(S=e.onKeydown)===null||S===void 0||S.call(e,y)}function Q(y){var S;(S=e.onMousedown)===null||S===void 0||S.call(e,y),!e.focusable&&y.preventDefault()}function ie(){const{value:y}=d;y&&z(y.getNext({loop:!0}),!0)}function p(){const{value:y}=d;y&&z(y.getPrev({loop:!0}),!0)}function z(y,S=!1){d.value=y,S&&N()}function N(){var y,S;const K=d.value;if(!K)return;const ae=u.value(K.key);ae!==null&&(e.virtualScroll?(y=l.value)===null||y===void 0||y.scrollTo({index:ae}):(S=i.value)===null||S===void 0||S.scrollTo({index:ae,elSize:v.value}))}function X(y){var S,K;!((S=s.value)===null||S===void 0)&&S.contains(y.target)&&((K=e.onFocus)===null||K===void 0||K.call(e,y))}function J(y){var S,K;!((S=s.value)===null||S===void 0)&&S.contains(y.relatedTarget)||(K=e.onBlur)===null||K===void 0||K.call(e,y)}it(Rt,{handleOptionMouseEnter:M,handleOptionClick:G,valueSetRef:O,pendingTmNodeRef:d,nodePropsRef:le(e,"nodeProps"),showCheckmarkRef:le(e,"showCheckmark"),multipleRef:le(e,"multiple"),valueRef:le(e,"value"),renderLabelRef:le(e,"renderLabel"),renderOptionRef:le(e,"renderOption"),labelFieldRef:le(e,"labelField"),valueFieldRef:le(e,"valueField")}),it(Wn,s),Ge(()=>{const{value:y}=i;y&&y.sync()});const Y=E(()=>{const{size:y}=e,{common:{cubicBezierEaseInOut:S},self:{height:K,borderRadius:ae,color:be,groupHeaderTextColor:Ce,actionDividerColor:he,optionTextColorPressed:se,optionTextColor:xe,optionTextColorDisabled:fe,optionTextColorActive:Be,optionOpacityDisabled:Ee,optionCheckColor:Ae,actionTextColor:Le,optionColorPending:ke,optionColorActive:ze,loadingColor:Ne,loadingSize:He,optionColorActivePending:De,[ee("optionFontSize",y)]:Me,[ee("optionHeight",y)]:Re,[ee("optionPadding",y)]:ce}}=r.value;return{"--n-height":K,"--n-action-divider-color":he,"--n-action-text-color":Le,"--n-bezier":S,"--n-border-radius":ae,"--n-color":be,"--n-option-font-size":Me,"--n-group-header-text-color":Ce,"--n-option-check-color":Ae,"--n-option-color-pending":ke,"--n-option-color-active":ze,"--n-option-color-active-pending":De,"--n-option-height":Re,"--n-option-opacity-disabled":Ee,"--n-option-text-color":xe,"--n-option-text-color-active":Be,"--n-option-text-color-disabled":fe,"--n-option-text-color-pressed":se,"--n-option-padding":ce,"--n-option-padding-left":$e(ce,"left"),"--n-option-padding-right":$e(ce,"right"),"--n-loading-color":Ne,"--n-loading-size":He}}),{inlineThemeDisabled:Z}=e,j=Z?Ue("internal-select-menu",E(()=>e.size[0]),Y,e):void 0,te={selfRef:s,next:ie,prev:p,getPendingTmNode:$};return nn(s,e.onResize),Object.assign({mergedTheme:r,mergedClsPrefix:n,rtlEnabled:o,virtualListRef:l,scrollbarRef:i,itemSize:v,padding:I,flattenedNodes:c,empty:R,virtualListContainer(){const{value:y}=l;return y==null?void 0:y.listElRef},virtualListContent(){const{value:y}=l;return y==null?void 0:y.itemsElRef},doScroll:T,handleFocusin:X,handleFocusout:J,handleKeyUp:q,handleKeyDown:B,handleMouseDown:Q,handleVirtualListResize:C,handleVirtualListScroll:g,cssVars:Z?void 0:Y,themeClass:j==null?void 0:j.themeClass,onRender:j==null?void 0:j.onRender},te)},render(){const{$slots:e,virtualScroll:n,clsPrefix:t,mergedTheme:o,themeClass:r,onRender:s}=this;return s==null||s(),h("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:["".concat(t,"-base-select-menu"),this.rtlEnabled&&"".concat(t,"-base-select-menu--rtl"),r,this.multiple&&"".concat(t,"-base-select-menu--multiple")],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},lt(e.header,l=>l&&h("div",{class:"".concat(t,"-base-select-menu__header"),"data-header":!0,key:"header"},l)),this.loading?h("div",{class:"".concat(t,"-base-select-menu__loading")},h(Nn,{clsPrefix:t,strokeWidth:20})):this.empty?h("div",{class:"".concat(t,"-base-select-menu__empty"),"data-empty":!0},Dn(e.empty,()=>[h(Qo,{theme:o.peers.Empty,themeOverrides:o.peerOverrides.Empty,size:this.size})])):h(Hn,{ref:"scrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,scrollable:this.scrollable,container:n?this.virtualListContainer:void 0,content:n?this.virtualListContent:void 0,onScroll:n?void 0:this.doScroll},{default:()=>n?h(yo,{ref:"virtualListRef",class:"".concat(t,"-virtual-list"),items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:l})=>l.isGroup?h(jt,{key:l.key,clsPrefix:t,tmNode:l}):l.ignored?null:h(Kt,{clsPrefix:t,key:l.key,tmNode:l})}):h("div",{class:"".concat(t,"-base-select-menu-option-wrapper"),style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(l=>l.isGroup?h(jt,{key:l.key,clsPrefix:t,tmNode:l}):h(Kt,{clsPrefix:t,key:l.key,tmNode:l})))}),lt(e.action,l=>l&&[h("div",{class:"".concat(t,"-base-select-menu__action"),"data-action":!0,key:"action"},l),h(So,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),lr={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px"};function ir(e){const{textColor2:n,primaryColorHover:t,primaryColorPressed:o,primaryColor:r,infoColor:s,successColor:l,warningColor:i,errorColor:c,baseColor:u,borderColor:d,opacityDisabled:f,tagColor:w,closeIconColor:m,closeIconColorHover:v,closeIconColorPressed:I,borderRadiusSmall:O,fontSizeMini:R,fontSizeTiny:P,fontSizeSmall:T,fontSizeMedium:g,heightMini:C,heightTiny:$,heightSmall:M,heightMedium:G,closeColorHover:q,closeColorPressed:B,buttonColor2Hover:Q,buttonColor2Pressed:ie,fontWeightStrong:p}=e;return Object.assign(Object.assign({},lr),{closeBorderRadius:O,heightTiny:C,heightSmall:$,heightMedium:M,heightLarge:G,borderRadius:O,opacityDisabled:f,fontSizeTiny:R,fontSizeSmall:P,fontSizeMedium:T,fontSizeLarge:g,fontWeightStrong:p,textColorCheckable:n,textColorHoverCheckable:n,textColorPressedCheckable:n,textColorChecked:u,colorCheckable:"#0000",colorHoverCheckable:Q,colorPressedCheckable:ie,colorChecked:r,colorCheckedHover:t,colorCheckedPressed:o,border:"1px solid ".concat(d),textColor:n,color:w,colorBordered:"rgb(250, 250, 252)",closeIconColor:m,closeIconColorHover:v,closeIconColorPressed:I,closeColorHover:q,closeColorPressed:B,borderPrimary:"1px solid ".concat(U(r,{alpha:.3})),textColorPrimary:r,colorPrimary:U(r,{alpha:.12}),colorBorderedPrimary:U(r,{alpha:.1}),closeIconColorPrimary:r,closeIconColorHoverPrimary:r,closeIconColorPressedPrimary:r,closeColorHoverPrimary:U(r,{alpha:.12}),closeColorPressedPrimary:U(r,{alpha:.18}),borderInfo:"1px solid ".concat(U(s,{alpha:.3})),textColorInfo:s,colorInfo:U(s,{alpha:.12}),colorBorderedInfo:U(s,{alpha:.1}),closeIconColorInfo:s,closeIconColorHoverInfo:s,closeIconColorPressedInfo:s,closeColorHoverInfo:U(s,{alpha:.12}),closeColorPressedInfo:U(s,{alpha:.18}),borderSuccess:"1px solid ".concat(U(l,{alpha:.3})),textColorSuccess:l,colorSuccess:U(l,{alpha:.12}),colorBorderedSuccess:U(l,{alpha:.1}),closeIconColorSuccess:l,closeIconColorHoverSuccess:l,closeIconColorPressedSuccess:l,closeColorHoverSuccess:U(l,{alpha:.12}),closeColorPressedSuccess:U(l,{alpha:.18}),borderWarning:"1px solid ".concat(U(i,{alpha:.35})),textColorWarning:i,colorWarning:U(i,{alpha:.15}),colorBorderedWarning:U(i,{alpha:.12}),closeIconColorWarning:i,closeIconColorHoverWarning:i,closeIconColorPressedWarning:i,closeColorHoverWarning:U(i,{alpha:.12}),closeColorPressedWarning:U(i,{alpha:.18}),borderError:"1px solid ".concat(U(c,{alpha:.23})),textColorError:c,colorError:U(c,{alpha:.1}),colorBorderedError:U(c,{alpha:.08}),closeIconColorError:c,closeIconColorHoverError:c,closeIconColorPressedError:c,closeColorHoverError:U(c,{alpha:.12}),closeColorPressedError:U(c,{alpha:.18})})}const ar={common:je,self:ir},sr={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},cr=W("tag","\n --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);\n white-space: nowrap;\n position: relative;\n box-sizing: border-box;\n cursor: default;\n display: inline-flex;\n align-items: center;\n flex-wrap: nowrap;\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n line-height: 1;\n height: var(--n-height);\n font-size: var(--n-font-size);\n",[ne("strong","\n font-weight: var(--n-font-weight-strong);\n "),L("border","\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n border: var(--n-border);\n transition: border-color .3s var(--n-bezier);\n "),L("icon","\n display: flex;\n margin: 0 4px 0 0;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n font-size: var(--n-avatar-size-override);\n "),L("avatar","\n display: flex;\n margin: 0 6px 0 0;\n "),L("close","\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n "),ne("round","\n padding: 0 calc(var(--n-height) / 3);\n border-radius: calc(var(--n-height) / 2);\n ",[L("icon","\n margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);\n "),L("avatar","\n margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);\n "),ne("closable","\n padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);\n ")]),ne("icon, avatar",[ne("round","\n padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);\n ")]),ne("disabled","\n cursor: not-allowed !important;\n opacity: var(--n-opacity-disabled);\n "),ne("checkable","\n cursor: pointer;\n box-shadow: none;\n color: var(--n-text-color-checkable);\n background-color: var(--n-color-checkable);\n ",[Oe("disabled",[de("&:hover","background-color: var(--n-color-hover-checkable);",[Oe("checked","color: var(--n-text-color-hover-checkable);")]),de("&:active","background-color: var(--n-color-pressed-checkable);",[Oe("checked","color: var(--n-text-color-pressed-checkable);")])]),ne("checked","\n color: var(--n-text-color-checked);\n background-color: var(--n-color-checked);\n ",[Oe("disabled",[de("&:hover","background-color: var(--n-color-checked-hover);"),de("&:active","background-color: var(--n-color-checked-pressed);")])])])]),dr=Object.assign(Object.assign(Object.assign({},pe.props),sr),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),ur=jn("n-tag"),yt=ue({name:"Tag",props:dr,slots:Object,setup(e){const n=_(null),{mergedBorderedRef:t,mergedClsPrefixRef:o,inlineThemeDisabled:r,mergedRtlRef:s}=Ke(e),l=pe("Tag","-tag",cr,ar,e,o);it(ur,{roundRef:le(e,"round")});function i(){if(!e.disabled&&e.checkable){const{checked:m,onCheckedChange:v,onUpdateChecked:I,"onUpdate:checked":O}=e;I&&I(!m),O&&O(!m),v&&v(!m)}}function c(m){if(e.triggerClickOnClose||m.stopPropagation(),!e.disabled){const{onClose:v}=e;v&&ve(v,m)}}const u={setTextContent(m){const{value:v}=n;v&&(v.textContent=m)}},d=Tt("Tag",s,o),f=E(()=>{const{type:m,size:v,color:{color:I,textColor:O}={}}=e,{common:{cubicBezierEaseInOut:R},self:{padding:P,closeMargin:T,borderRadius:g,opacityDisabled:C,textColorCheckable:$,textColorHoverCheckable:M,textColorPressedCheckable:G,textColorChecked:q,colorCheckable:B,colorHoverCheckable:Q,colorPressedCheckable:ie,colorChecked:p,colorCheckedHover:z,colorCheckedPressed:N,closeBorderRadius:X,fontWeightStrong:J,[ee("colorBordered",m)]:Y,[ee("closeSize",v)]:Z,[ee("closeIconSize",v)]:j,[ee("fontSize",v)]:te,[ee("height",v)]:y,[ee("color",m)]:S,[ee("textColor",m)]:K,[ee("border",m)]:ae,[ee("closeIconColor",m)]:be,[ee("closeIconColorHover",m)]:Ce,[ee("closeIconColorPressed",m)]:he,[ee("closeColorHover",m)]:se,[ee("closeColorPressed",m)]:xe}}=l.value,fe=$e(T);return{"--n-font-weight-strong":J,"--n-avatar-size-override":"calc(".concat(y," - 8px)"),"--n-bezier":R,"--n-border-radius":g,"--n-border":ae,"--n-close-icon-size":j,"--n-close-color-pressed":xe,"--n-close-color-hover":se,"--n-close-border-radius":X,"--n-close-icon-color":be,"--n-close-icon-color-hover":Ce,"--n-close-icon-color-pressed":he,"--n-close-icon-color-disabled":be,"--n-close-margin-top":fe.top,"--n-close-margin-right":fe.right,"--n-close-margin-bottom":fe.bottom,"--n-close-margin-left":fe.left,"--n-close-size":Z,"--n-color":I||(t.value?Y:S),"--n-color-checkable":B,"--n-color-checked":p,"--n-color-checked-hover":z,"--n-color-checked-pressed":N,"--n-color-hover-checkable":Q,"--n-color-pressed-checkable":ie,"--n-font-size":te,"--n-height":y,"--n-opacity-disabled":C,"--n-padding":P,"--n-text-color":O||K,"--n-text-color-checkable":$,"--n-text-color-checked":q,"--n-text-color-hover-checkable":M,"--n-text-color-pressed-checkable":G}}),w=r?Ue("tag",E(()=>{let m="";const{type:v,size:I,color:{color:O,textColor:R}={}}=e;return m+=v[0],m+=I[0],O&&(m+="a".concat(Mt(O))),R&&(m+="b".concat(Mt(R))),t.value&&(m+="c"),m}),f,e):void 0;return Object.assign(Object.assign({},u),{rtlEnabled:d,mergedClsPrefix:o,contentRef:n,mergedBordered:t,handleClick:i,handleCloseClick:c,cssVars:r?void 0:f,themeClass:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender})},render(){var e,n;const{mergedClsPrefix:t,rtlEnabled:o,closable:r,color:{borderColor:s}={},round:l,onRender:i,$slots:c}=this;i==null||i();const u=lt(c.avatar,f=>f&&h("div",{class:"".concat(t,"-tag__avatar")},f)),d=lt(c.icon,f=>f&&h("div",{class:"".concat(t,"-tag__icon")},f));return h("div",{class:["".concat(t,"-tag"),this.themeClass,{["".concat(t,"-tag--rtl")]:o,["".concat(t,"-tag--strong")]:this.strong,["".concat(t,"-tag--disabled")]:this.disabled,["".concat(t,"-tag--checkable")]:this.checkable,["".concat(t,"-tag--checked")]:this.checkable&&this.checked,["".concat(t,"-tag--round")]:l,["".concat(t,"-tag--avatar")]:u,["".concat(t,"-tag--icon")]:d,["".concat(t,"-tag--closable")]:r}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},d||u,h("span",{class:"".concat(t,"-tag__content"),ref:"contentRef"},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e)),!this.checkable&&r?h(Vn,{clsPrefix:t,class:"".concat(t,"-tag__close"),disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:l,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?h("div",{class:"".concat(t,"-tag__border"),style:{borderColor:s}}):null)}}),fr={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"};function hr(e){const{borderRadius:n,textColor2:t,textColorDisabled:o,inputColor:r,inputColorDisabled:s,primaryColor:l,primaryColorHover:i,warningColor:c,warningColorHover:u,errorColor:d,errorColorHover:f,borderColor:w,iconColor:m,iconColorDisabled:v,clearColor:I,clearColorHover:O,clearColorPressed:R,placeholderColor:P,placeholderColorDisabled:T,fontSizeTiny:g,fontSizeSmall:C,fontSizeMedium:$,fontSizeLarge:M,heightTiny:G,heightSmall:q,heightMedium:B,heightLarge:Q,fontWeight:ie}=e;return Object.assign(Object.assign({},fr),{fontSizeTiny:g,fontSizeSmall:C,fontSizeMedium:$,fontSizeLarge:M,heightTiny:G,heightSmall:q,heightMedium:B,heightLarge:Q,borderRadius:n,fontWeight:ie,textColor:t,textColorDisabled:o,placeholderColor:P,placeholderColorDisabled:T,color:r,colorDisabled:s,colorActive:r,border:"1px solid ".concat(w),borderHover:"1px solid ".concat(i),borderActive:"1px solid ".concat(l),borderFocus:"1px solid ".concat(i),boxShadowHover:"none",boxShadowActive:"0 0 0 2px ".concat(U(l,{alpha:.2})),boxShadowFocus:"0 0 0 2px ".concat(U(l,{alpha:.2})),caretColor:l,arrowColor:m,arrowColorDisabled:v,loadingColor:l,borderWarning:"1px solid ".concat(c),borderHoverWarning:"1px solid ".concat(u),borderActiveWarning:"1px solid ".concat(c),borderFocusWarning:"1px solid ".concat(u),boxShadowHoverWarning:"none",boxShadowActiveWarning:"0 0 0 2px ".concat(U(c,{alpha:.2})),boxShadowFocusWarning:"0 0 0 2px ".concat(U(c,{alpha:.2})),colorActiveWarning:r,caretColorWarning:c,borderError:"1px solid ".concat(d),borderHoverError:"1px solid ".concat(f),borderActiveError:"1px solid ".concat(d),borderFocusError:"1px solid ".concat(f),boxShadowHoverError:"none",boxShadowActiveError:"0 0 0 2px ".concat(U(d,{alpha:.2})),boxShadowFocusError:"0 0 0 2px ".concat(U(d,{alpha:.2})),colorActiveError:r,caretColorError:d,clearColor:I,clearColorHover:O,clearColorPressed:R})}const sn=zt({name:"InternalSelection",common:je,peers:{Popover:Kn},self:hr}),vr=de([W("base-selection","\n --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);\n --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n ",[W("base-loading","\n color: var(--n-loading-color);\n "),W("base-selection-tags","min-height: var(--n-height);"),L("border, state-border","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n "),L("state-border","\n z-index: 1;\n border-color: #0000;\n "),W("base-suffix","\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n ",[L("arrow","\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n ")]),W("base-selection-overlay","\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n ",[L("wrapper","\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n ")]),W("base-selection-placeholder","\n color: var(--n-placeholder-color);\n ",[L("inner","\n max-width: 100%;\n overflow: hidden;\n ")]),W("base-selection-tags","\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n "),W("base-selection-label","\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n ",[W("base-selection-input","\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n ",[L("content","\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n ")]),L("render-label","\n color: var(--n-text-color);\n ")]),Oe("disabled",[de("&:hover",[L("state-border","\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n ")]),ne("focus",[L("state-border","\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n ")]),ne("active",[L("state-border","\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n "),W("base-selection-label","background-color: var(--n-color-active);"),W("base-selection-tags","background-color: var(--n-color-active);")])]),ne("disabled","cursor: not-allowed;",[L("arrow","\n color: var(--n-arrow-color-disabled);\n "),W("base-selection-label","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n ",[W("base-selection-input","\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n "),L("render-label","\n color: var(--n-text-color-disabled);\n ")]),W("base-selection-tags","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n "),W("base-selection-placeholder","\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n ")]),W("base-selection-input-tag","\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n ",[L("input","\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n "),L("mirror","\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n ")]),["warning","error"].map(e=>ne("".concat(e,"-status"),[L("state-border","border: var(--n-border-".concat(e,");")),Oe("disabled",[de("&:hover",[L("state-border","\n box-shadow: var(--n-box-shadow-hover-".concat(e,");\n border: var(--n-border-hover-").concat(e,");\n "))]),ne("active",[L("state-border","\n box-shadow: var(--n-box-shadow-active-".concat(e,");\n border: var(--n-border-active-").concat(e,");\n ")),W("base-selection-label","background-color: var(--n-color-active-".concat(e,");")),W("base-selection-tags","background-color: var(--n-color-active-".concat(e,");"))]),ne("focus",[L("state-border","\n box-shadow: var(--n-box-shadow-focus-".concat(e,");\n border: var(--n-border-focus-").concat(e,");\n "))])])]))]),W("base-selection-popover","\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n "),W("base-selection-tag-wrapper","\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n ",[de("&:last-child","padding-right: 0;"),W("tag","\n font-size: 14px;\n max-width: 100%;\n ",[L("content","\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n ")])])]),gr=ue({name:"InternalSelection",props:Object.assign(Object.assign({},pe.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(e){const{mergedClsPrefixRef:n,mergedRtlRef:t}=Ke(e),o=Tt("InternalSelection",t,n),r=_(null),s=_(null),l=_(null),i=_(null),c=_(null),u=_(null),d=_(null),f=_(null),w=_(null),m=_(null),v=_(!1),I=_(!1),O=_(!1),R=pe("InternalSelection","-internal-selection",vr,sn,e,le(e,"clsPrefix")),P=E(()=>e.clearable&&!e.disabled&&(O.value||e.active)),T=E(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):_e(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),g=E(()=>{const b=e.selectedOption;if(b)return b[e.labelField]}),C=E(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function $(){var b;const{value:k}=r;if(k){const{value:oe}=s;oe&&(oe.style.width="".concat(k.offsetWidth,"px"),e.maxTagCount!=="responsive"&&((b=w.value)===null||b===void 0||b.sync({showAllItemsBeforeCalculate:!1})))}}function M(){const{value:b}=m;b&&(b.style.display="none")}function G(){const{value:b}=m;b&&(b.style.display="inline-block")}Se(le(e,"active"),b=>{b||M()}),Se(le(e,"pattern"),()=>{e.multiple&&It($)});function q(b){const{onFocus:k}=e;k&&k(b)}function B(b){const{onBlur:k}=e;k&&k(b)}function Q(b){const{onDeleteOption:k}=e;k&&k(b)}function ie(b){const{onClear:k}=e;k&&k(b)}function p(b){const{onPatternInput:k}=e;k&&k(b)}function z(b){var k;(!b.relatedTarget||!(!((k=l.value)===null||k===void 0)&&k.contains(b.relatedTarget)))&&q(b)}function N(b){var k;!((k=l.value)===null||k===void 0)&&k.contains(b.relatedTarget)||B(b)}function X(b){ie(b)}function J(){O.value=!0}function Y(){O.value=!1}function Z(b){!e.active||!e.filterable||b.target!==s.value&&b.preventDefault()}function j(b){Q(b)}const te=_(!1);function y(b){if(b.key==="Backspace"&&!te.value&&!e.pattern.length){const{selectedOptions:k}=e;k!=null&&k.length&&j(k[k.length-1])}}let S=null;function K(b){const{value:k}=r;if(k){const oe=b.target.value;k.textContent=oe,$()}e.ignoreComposition&&te.value?S=b:p(b)}function ae(){te.value=!0}function be(){te.value=!1,e.ignoreComposition&&p(S),S=null}function Ce(b){var k;I.value=!0,(k=e.onPatternFocus)===null||k===void 0||k.call(e,b)}function he(b){var k;I.value=!1,(k=e.onPatternBlur)===null||k===void 0||k.call(e,b)}function se(){var b,k;if(e.filterable)I.value=!1,(b=u.value)===null||b===void 0||b.blur(),(k=s.value)===null||k===void 0||k.blur();else if(e.multiple){const{value:oe}=i;oe==null||oe.blur()}else{const{value:oe}=c;oe==null||oe.blur()}}function xe(){var b,k,oe;e.filterable?(I.value=!1,(b=u.value)===null||b===void 0||b.focus()):e.multiple?(k=i.value)===null||k===void 0||k.focus():(oe=c.value)===null||oe===void 0||oe.focus()}function fe(){const{value:b}=s;b&&(G(),b.focus())}function Be(){const{value:b}=s;b&&b.blur()}function Ee(b){const{value:k}=d;k&&k.setTextContent("+".concat(b))}function Ae(){const{value:b}=f;return b}function Le(){return s.value}let ke=null;function ze(){ke!==null&&window.clearTimeout(ke)}function Ne(){e.active||(ze(),ke=window.setTimeout(()=>{C.value&&(v.value=!0)},100))}function He(){ze()}function De(b){b||(ze(),v.value=!1)}Se(C,b=>{b||(v.value=!1)}),Ge(()=>{so(()=>{const b=u.value;b&&(e.disabled?b.removeAttribute("tabindex"):b.tabIndex=I.value?-1:0)})}),nn(l,e.onResize);const{inlineThemeDisabled:Me}=e,Re=E(()=>{const{size:b}=e,{common:{cubicBezierEaseInOut:k},self:{fontWeight:oe,borderRadius:ct,color:dt,placeholderColor:qe,textColor:Xe,paddingSingle:Ye,paddingMultiple:ut,caretColor:ft,colorDisabled:Ze,textColorDisabled:we,placeholderColorDisabled:a,colorActive:x,boxShadowFocus:F,boxShadowActive:V,boxShadowHover:H,border:A,borderFocus:D,borderHover:re,borderActive:ge,arrowColor:dn,arrowColorDisabled:un,loadingColor:fn,colorActiveWarning:hn,boxShadowFocusWarning:vn,boxShadowActiveWarning:gn,boxShadowHoverWarning:pn,borderWarning:bn,borderFocusWarning:mn,borderHoverWarning:yn,borderActiveWarning:Cn,colorActiveError:xn,boxShadowFocusError:wn,boxShadowActiveError:Sn,boxShadowHoverError:kn,borderError:zn,borderFocusError:Rn,borderHoverError:Tn,borderActiveError:Pn,clearColor:In,clearColorHover:On,clearColorPressed:Fn,clearSize:Mn,arrowSize:_n,[ee("height",b)]:$n,[ee("fontSize",b)]:Bn}}=R.value,Je=$e(Ye),Qe=$e(ut);return{"--n-bezier":k,"--n-border":A,"--n-border-active":ge,"--n-border-focus":D,"--n-border-hover":re,"--n-border-radius":ct,"--n-box-shadow-active":V,"--n-box-shadow-focus":F,"--n-box-shadow-hover":H,"--n-caret-color":ft,"--n-color":dt,"--n-color-active":x,"--n-color-disabled":Ze,"--n-font-size":Bn,"--n-height":$n,"--n-padding-single-top":Je.top,"--n-padding-multiple-top":Qe.top,"--n-padding-single-right":Je.right,"--n-padding-multiple-right":Qe.right,"--n-padding-single-left":Je.left,"--n-padding-multiple-left":Qe.left,"--n-padding-single-bottom":Je.bottom,"--n-padding-multiple-bottom":Qe.bottom,"--n-placeholder-color":qe,"--n-placeholder-color-disabled":a,"--n-text-color":Xe,"--n-text-color-disabled":we,"--n-arrow-color":dn,"--n-arrow-color-disabled":un,"--n-loading-color":fn,"--n-color-active-warning":hn,"--n-box-shadow-focus-warning":vn,"--n-box-shadow-active-warning":gn,"--n-box-shadow-hover-warning":pn,"--n-border-warning":bn,"--n-border-focus-warning":mn,"--n-border-hover-warning":yn,"--n-border-active-warning":Cn,"--n-color-active-error":xn,"--n-box-shadow-focus-error":wn,"--n-box-shadow-active-error":Sn,"--n-box-shadow-hover-error":kn,"--n-border-error":zn,"--n-border-focus-error":Rn,"--n-border-hover-error":Tn,"--n-border-active-error":Pn,"--n-clear-size":Mn,"--n-clear-color":In,"--n-clear-color-hover":On,"--n-clear-color-pressed":Fn,"--n-arrow-size":_n,"--n-font-weight":oe}}),ce=Me?Ue("internal-selection",E(()=>e.size[0]),Re,e):void 0;return{mergedTheme:R,mergedClearable:P,mergedClsPrefix:n,rtlEnabled:o,patternInputFocused:I,filterablePlaceholder:T,label:g,selected:C,showTagsPanel:v,isComposing:te,counterRef:d,counterWrapperRef:f,patternInputMirrorRef:r,patternInputRef:s,selfRef:l,multipleElRef:i,singleElRef:c,patternInputWrapperRef:u,overflowRef:w,inputTagElRef:m,handleMouseDown:Z,handleFocusin:z,handleClear:X,handleMouseEnter:J,handleMouseLeave:Y,handleDeleteOption:j,handlePatternKeyDown:y,handlePatternInputInput:K,handlePatternInputBlur:he,handlePatternInputFocus:Ce,handleMouseEnterCounter:Ne,handleMouseLeaveCounter:He,handleFocusout:N,handleCompositionEnd:be,handleCompositionStart:ae,onPopoverUpdateShow:De,focus:xe,focusInput:fe,blur:se,blurInput:Be,updateCounter:Ee,getCounter:Ae,getTail:Le,renderLabel:e.renderLabel,cssVars:Me?void 0:Re,themeClass:ce==null?void 0:ce.themeClass,onRender:ce==null?void 0:ce.onRender}},render(){const{status:e,multiple:n,size:t,disabled:o,filterable:r,maxTagCount:s,bordered:l,clsPrefix:i,ellipsisTagPopoverProps:c,onRender:u,renderTag:d,renderLabel:f}=this;u==null||u();const w=s==="responsive",m=typeof s=="number",v=w||m,I=h(Un,null,{default:()=>h(Gn,{clsPrefix:i,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var R,P;return(P=(R=this.$slots).arrow)===null||P===void 0?void 0:P.call(R)}})});let O;if(n){const{labelField:R}=this,P=p=>h("div",{class:"".concat(i,"-base-selection-tag-wrapper"),key:p.value},d?d({option:p,handleClose:()=>{this.handleDeleteOption(p)}}):h(yt,{size:t,closable:!p.disabled,disabled:o,onClose:()=>{this.handleDeleteOption(p)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>f?f(p,!0):_e(p[R],p,!0)})),T=()=>(m?this.selectedOptions.slice(0,s):this.selectedOptions).map(P),g=r?h("div",{class:"".concat(i,"-base-selection-input-tag"),ref:"inputTagElRef",key:"__input-tag__"},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:o,value:this.pattern,autofocus:this.autofocus,class:"".concat(i,"-base-selection-input-tag__input"),onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),h("span",{ref:"patternInputMirrorRef",class:"".concat(i,"-base-selection-input-tag__mirror")},this.pattern)):null,C=w?()=>h("div",{class:"".concat(i,"-base-selection-tag-wrapper"),ref:"counterWrapperRef"},h(yt,{size:t,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:o})):void 0;let $;if(m){const p=this.selectedOptions.length-s;p>0&&($=h("div",{class:"".concat(i,"-base-selection-tag-wrapper"),key:"__counter__"},h(yt,{size:t,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:o},{default:()=>"+".concat(p)})))}const M=w?r?h(Ht,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:T,counter:C,tail:()=>g}):h(Ht,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:T,counter:C}):m&&$?T().concat($):T(),G=v?()=>h("div",{class:"".concat(i,"-base-selection-popover")},w?T():this.selectedOptions.map(P)):void 0,q=v?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},c):null,Q=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?h("div",{class:"".concat(i,"-base-selection-placeholder ").concat(i,"-base-selection-overlay")},h("div",{class:"".concat(i,"-base-selection-placeholder__inner")},this.placeholder)):null,ie=r?h("div",{ref:"patternInputWrapperRef",class:"".concat(i,"-base-selection-tags")},M,w?null:g,I):h("div",{ref:"multipleElRef",class:"".concat(i,"-base-selection-tags"),tabindex:o?void 0:0},M,I);O=h(rt,null,v?h(qn,Object.assign({},q,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>ie,default:G}):ie,Q)}else if(r){const R=this.pattern||this.isComposing,P=this.active?!R:!this.selected,T=this.active?!1:this.selected;O=h("div",{ref:"patternInputWrapperRef",class:"".concat(i,"-base-selection-label"),title:this.patternInputFocused?void 0:Dt(this.label)},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:"".concat(i,"-base-selection-input"),value:this.active?this.pattern:"",placeholder:"",readonly:o,disabled:o,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),T?h("div",{class:"".concat(i,"-base-selection-label__render-label ").concat(i,"-base-selection-overlay"),key:"input"},h("div",{class:"".concat(i,"-base-selection-overlay__wrapper")},d?d({option:this.selectedOption,handleClose:()=>{}}):f?f(this.selectedOption,!0):_e(this.label,this.selectedOption,!0))):null,P?h("div",{class:"".concat(i,"-base-selection-placeholder ").concat(i,"-base-selection-overlay"),key:"placeholder"},h("div",{class:"".concat(i,"-base-selection-overlay__wrapper")},this.filterablePlaceholder)):null,I)}else O=h("div",{ref:"singleElRef",class:"".concat(i,"-base-selection-label"),tabindex:this.disabled?void 0:0},this.label!==void 0?h("div",{class:"".concat(i,"-base-selection-input"),title:Dt(this.label),key:"input"},h("div",{class:"".concat(i,"-base-selection-input__content")},d?d({option:this.selectedOption,handleClose:()=>{}}):f?f(this.selectedOption,!0):_e(this.label,this.selectedOption,!0))):h("div",{class:"".concat(i,"-base-selection-placeholder ").concat(i,"-base-selection-overlay"),key:"placeholder"},h("div",{class:"".concat(i,"-base-selection-placeholder__inner")},this.placeholder)),I);return h("div",{ref:"selfRef",class:["".concat(i,"-base-selection"),this.rtlEnabled&&"".concat(i,"-base-selection--rtl"),this.themeClass,e&&"".concat(i,"-base-selection--").concat(e,"-status"),{["".concat(i,"-base-selection--active")]:this.active,["".concat(i,"-base-selection--selected")]:this.selected||this.active&&this.pattern,["".concat(i,"-base-selection--disabled")]:this.disabled,["".concat(i,"-base-selection--multiple")]:this.multiple,["".concat(i,"-base-selection--focus")]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},O,l?h("div",{class:"".concat(i,"-base-selection__border")}):null,l?h("div",{class:"".concat(i,"-base-selection__state-border")}):null)}});function st(e){return e.type==="group"}function cn(e){return e.type==="ignored"}function Ct(e,n){try{return!!(1+n.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch(t){return!1}}function pr(e,n){return{getIsGroup:st,getIgnored:cn,getKey(o){return st(o)?o.name||o.key||"key-required":o[e]},getChildren(o){return o[n]}}}function br(e,n,t,o){if(!n)return e;function r(s){if(!Array.isArray(s))return[];const l=[];for(const i of s)if(st(i)){const c=r(i[o]);c.length&&l.push(Object.assign({},i,{[o]:c}))}else{if(cn(i))continue;n(t,i)&&l.push(i)}return l}return r(e)}function mr(e,n,t){const o=new Map;return e.forEach(r=>{st(r)?r[t].forEach(s=>{o.set(s[n],s)}):o.set(r[n],r)}),o}function yr(e){const{boxShadow2:n}=e;return{menuBoxShadow:n}}const Cr=zt({name:"Select",common:je,peers:{InternalSelection:sn,InternalSelectMenu:an},self:yr}),xr=de([W("select","\n z-index: auto;\n outline: none;\n width: 100%;\n position: relative;\n font-weight: var(--n-font-weight);\n "),W("select-menu","\n margin: 4px 0;\n box-shadow: var(--n-menu-box-shadow);\n ",[Yt({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),wr=Object.assign(Object.assign({},pe.props),{to:wt.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,menuSize:{type:String},filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),Sr=ue({name:"Select",props:wr,slots:Object,setup(e){const{mergedClsPrefixRef:n,mergedBorderedRef:t,namespaceRef:o,inlineThemeDisabled:r}=Ke(e),s=pe("Select","-select",xr,Cr,e,n),l=_(e.defaultValue),i=le(e,"value"),c=$t(i,l),u=_(!1),d=_(""),f=Jn(e,["items","options"]),w=_([]),m=_([]),v=E(()=>m.value.concat(w.value).concat(f.value)),I=E(()=>{const{filter:a}=e;if(a)return a;const{labelField:x,valueField:F}=e;return(V,H)=>{if(!H)return!1;const A=H[x];if(typeof A=="string")return Ct(V,A);const D=H[F];return typeof D=="string"?Ct(V,D):typeof D=="number"?Ct(V,String(D)):!1}}),O=E(()=>{if(e.remote)return f.value;{const{value:a}=v,{value:x}=d;return!x.length||!e.filterable?a:br(a,I.value,x,e.childrenField)}}),R=E(()=>{const{valueField:a,childrenField:x}=e,F=pr(a,x);return qo(O.value,F)}),P=E(()=>mr(v.value,e.valueField,e.childrenField)),T=_(!1),g=$t(le(e,"show"),T),C=_(null),$=_(null),M=_(null),{localeRef:G}=Xt("Select"),q=E(()=>{var a;return(a=e.placeholder)!==null&&a!==void 0?a:G.value.placeholder}),B=[],Q=_(new Map),ie=E(()=>{const{fallbackOption:a}=e;if(a===void 0){const{labelField:x,valueField:F}=e;return V=>({[x]:String(V),[F]:V})}return a===!1?!1:x=>Object.assign(a(x),{value:x})});function p(a){const x=e.remote,{value:F}=Q,{value:V}=P,{value:H}=ie,A=[];return a.forEach(D=>{if(V.has(D))A.push(V.get(D));else if(x&&F.has(D))A.push(F.get(D));else if(H){const re=H(D);re&&A.push(re)}}),A}const z=E(()=>{if(e.multiple){const{value:a}=c;return Array.isArray(a)?p(a):[]}return null}),N=E(()=>{const{value:a}=c;return!e.multiple&&!Array.isArray(a)?a===null?null:p([a])[0]||null:null}),X=Qn(e),{mergedSizeRef:J,mergedDisabledRef:Y,mergedStatusRef:Z}=X;function j(a,x){const{onChange:F,"onUpdate:value":V,onUpdateValue:H}=e,{nTriggerFormChange:A,nTriggerFormInput:D}=X;F&&ve(F,a,x),H&&ve(H,a,x),V&&ve(V,a,x),l.value=a,A(),D()}function te(a){const{onBlur:x}=e,{nTriggerFormBlur:F}=X;x&&ve(x,a),F()}function y(){const{onClear:a}=e;a&&ve(a)}function S(a){const{onFocus:x,showOnFocus:F}=e,{nTriggerFormFocus:V}=X;x&&ve(x,a),V(),F&&he()}function K(a){const{onSearch:x}=e;x&&ve(x,a)}function ae(a){const{onScroll:x}=e;x&&ve(x,a)}function be(){var a;const{remote:x,multiple:F}=e;if(x){const{value:V}=Q;if(F){const{valueField:H}=e;(a=z.value)===null||a===void 0||a.forEach(A=>{V.set(A[H],A)})}else{const H=N.value;H&&V.set(H[e.valueField],H)}}}function Ce(a){const{onUpdateShow:x,"onUpdate:show":F}=e;x&&ve(x,a),F&&ve(F,a),T.value=a}function he(){Y.value||(Ce(!0),T.value=!0,e.filterable&&Ye())}function se(){Ce(!1)}function xe(){d.value="",m.value=B}const fe=_(!1);function Be(){e.filterable&&(fe.value=!0)}function Ee(){e.filterable&&(fe.value=!1,g.value||xe())}function Ae(){Y.value||(g.value?e.filterable?Ye():se():he())}function Le(a){var x,F;!((F=(x=M.value)===null||x===void 0?void 0:x.selfRef)===null||F===void 0)&&F.contains(a.relatedTarget)||(u.value=!1,te(a),se())}function ke(a){S(a),u.value=!0}function ze(){u.value=!0}function Ne(a){var x;!((x=C.value)===null||x===void 0)&&x.$el.contains(a.relatedTarget)||(u.value=!1,te(a),se())}function He(){var a;(a=C.value)===null||a===void 0||a.focus(),se()}function De(a){var x;g.value&&(!((x=C.value)===null||x===void 0)&&x.$el.contains(to(a))||se())}function Me(a){if(!Array.isArray(a))return[];if(ie.value)return Array.from(a);{const{remote:x}=e,{value:F}=P;if(x){const{value:V}=Q;return a.filter(H=>F.has(H)||V.has(H))}else return a.filter(V=>F.has(V))}}function Re(a){ce(a.rawNode)}function ce(a){if(Y.value)return;const{tag:x,remote:F,clearFilterAfterSelect:V,valueField:H}=e;if(x&&!F){const{value:A}=m,D=A[0]||null;if(D){const re=w.value;re.length?re.push(D):w.value=[D],m.value=B}}if(F&&Q.value.set(a[H],a),e.multiple){const A=Me(c.value),D=A.findIndex(re=>re===a[H]);if(~D){if(A.splice(D,1),x&&!F){const re=b(a[H]);~re&&(w.value.splice(re,1),V&&(d.value=""))}}else A.push(a[H]),V&&(d.value="");j(A,p(A))}else{if(x&&!F){const A=b(a[H]);~A?w.value=[w.value[A]]:w.value=B}Xe(),se(),j(a[H],a)}}function b(a){return w.value.findIndex(F=>F[e.valueField]===a)}function k(a){g.value||he();const{value:x}=a.target;d.value=x;const{tag:F,remote:V}=e;if(K(x),F&&!V){if(!x){m.value=B;return}const{onCreate:H}=e,A=H?H(x):{[e.labelField]:x,[e.valueField]:x},{valueField:D,labelField:re}=e;f.value.some(ge=>ge[D]===A[D]||ge[re]===A[re])||w.value.some(ge=>ge[D]===A[D]||ge[re]===A[re])?m.value=B:m.value=[A]}}function oe(a){a.stopPropagation();const{multiple:x}=e;!x&&e.filterable&&se(),y(),x?j([],[]):j(null,null)}function ct(a){!Ve(a,"action")&&!Ve(a,"empty")&&!Ve(a,"header")&&a.preventDefault()}function dt(a){ae(a)}function qe(a){var x,F,V,H,A;if(!e.keyboard){a.preventDefault();return}switch(a.key){case" ":if(e.filterable)break;a.preventDefault();case"Enter":if(!(!((x=C.value)===null||x===void 0)&&x.isComposing)){if(g.value){const D=(F=M.value)===null||F===void 0?void 0:F.getPendingTmNode();D?Re(D):e.filterable||(se(),Xe())}else if(he(),e.tag&&fe.value){const D=m.value[0];if(D){const re=D[e.valueField],{value:ge}=c;e.multiple&&Array.isArray(ge)&&ge.includes(re)||ce(D)}}}a.preventDefault();break;case"ArrowUp":if(a.preventDefault(),e.loading)return;g.value&&((V=M.value)===null||V===void 0||V.prev());break;case"ArrowDown":if(a.preventDefault(),e.loading)return;g.value?(H=M.value)===null||H===void 0||H.next():he();break;case"Escape":g.value&&(no(a),se()),(A=C.value)===null||A===void 0||A.focus();break}}function Xe(){var a;(a=C.value)===null||a===void 0||a.focus()}function Ye(){var a;(a=C.value)===null||a===void 0||a.focusInput()}function ut(){var a;g.value&&((a=$.value)===null||a===void 0||a.syncPosition())}be(),Se(le(e,"options"),be);const ft={focus:()=>{var a;(a=C.value)===null||a===void 0||a.focus()},focusInput:()=>{var a;(a=C.value)===null||a===void 0||a.focusInput()},blur:()=>{var a;(a=C.value)===null||a===void 0||a.blur()},blurInput:()=>{var a;(a=C.value)===null||a===void 0||a.blurInput()}},Ze=E(()=>{const{self:{menuBoxShadow:a}}=s.value;return{"--n-menu-box-shadow":a}}),we=r?Ue("select",void 0,Ze,e):void 0;return Object.assign(Object.assign({},ft),{mergedStatus:Z,mergedClsPrefix:n,mergedBordered:t,namespace:o,treeMate:R,isMounted:eo(),triggerRef:C,menuRef:M,pattern:d,uncontrolledShow:T,mergedShow:g,adjustedTo:wt(e),uncontrolledValue:l,mergedValue:c,followerRef:$,localizedPlaceholder:q,selectedOption:N,selectedOptions:z,mergedSize:J,mergedDisabled:Y,focused:u,activeWithoutMenuOpen:fe,inlineThemeDisabled:r,onTriggerInputFocus:Be,onTriggerInputBlur:Ee,handleTriggerOrMenuResize:ut,handleMenuFocus:ze,handleMenuBlur:Ne,handleMenuTabOut:He,handleTriggerClick:Ae,handleToggle:Re,handleDeleteOption:ce,handlePatternInput:k,handleClear:oe,handleTriggerBlur:Le,handleTriggerFocus:ke,handleKeydown:qe,handleMenuAfterLeave:xe,handleMenuClickOutside:De,handleMenuScroll:dt,handleMenuKeydown:qe,handleMenuMousedown:ct,mergedTheme:s,cssVars:r?void 0:Ze,themeClass:we==null?void 0:we.themeClass,onRender:we==null?void 0:we.onRender})},render(){return h("div",{class:"".concat(this.mergedClsPrefix,"-select")},h(Xn,null,{default:()=>[h(Yn,null,{default:()=>h(gr,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var e,n;return[(n=(e=this.$slots).arrow)===null||n===void 0?void 0:n.call(e)]}})}),h(Zn,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===wt.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>h(Qt,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,n,t;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),co(h(rr,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:["".concat(this.mergedClsPrefix,"-select-menu"),this.themeClass,(n=this.menuProps)===null||n===void 0?void 0:n.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:this.menuSize,renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(t=this.menuProps)===null||t===void 0?void 0:t.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var o,r;return[(r=(o=this.$slots).empty)===null||r===void 0?void 0:r.call(o)]},header:()=>{var o,r;return[(r=(o=this.$slots).header)===null||r===void 0?void 0:r.call(o)]},action:()=>{var o,r;return[(r=(o=this.$slots).action)===null||r===void 0?void 0:r.call(o)]}}),this.displayDirective==="show"?[[uo,this.mergedShow],[_t,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[_t,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),kr=[{title:"general",items:[{key:"language",label:"界面语言",type:"link",value:"Chinese",options:[{label:"简体中文",value:"Chinese"},{label:"English",value:"English"}],callBack:e=>{Te.global.locale.value=e,et.emit("nWarning",{title:Te.global.t("login.reLogin"),content:Te.global.t("login.reLoginContent"),positiveText:Te.global.t("login.confirm"),onPositiveClick:async()=>{St.remove("userInfo"),window.$Logger.logEvent({category:"Account",action:"Switch-Language",label:"newValue",timestamp:Date.now()}),et.emit("loginRequired")}})}},{key:"debugger",label:"错误日志",type:"link",value:"on",options:[{label:"on",value:"on"},{label:"export",value:"export"},{label:"off",value:"off"}],callBack:e=>{if(e==="export"){window.$ErrorLogger.exportToTxt();return}e==="off"&&localStorage.removeItem("error_logs"),et.emit("nWarning",{title:Te.global.t("login.reLogin"),content:Te.global.t("login.reLoginContent"),positiveText:Te.global.t("login.confirm"),onPositiveClick:async()=>{et.emit("loginRequired")}})}}]}],zr={class:"container"},Rr={class:"header"},Tr={class:"header-title"},Pr={class:"section-title"},Ir={class:"label"},Or={key:0,class:"value"},Fr={key:1,class:"toggle-switch"},Mr=["checked","onClick"],_r={class:"version"},$r=ue({__name:"Settings",setup(e){var r;const n=((r=St.getObj("userConfig"))==null?void 0:r.value)||{},t=fo(kr);t.forEach(s=>{s.items.forEach(l=>{n[l.key]!==void 0&&(l.value=n[l.key])})});function o(){window.history.back()}return Se(()=>t,()=>{const s=t.reduce((l,i)=>(i.items.forEach(c=>{l[c.key]=c.value}),l),{});St.setObj("userConfig",s)},{deep:!0}),Zt(()=>{window.$Logger.logPageView({pageLink:"/Settings/",timeStamp:Date.now()})}),(s,l)=>(Ie(),Pe(rt,null,[me("div",zr,[me("div",Rr,[me("div",Tr,[me("img",{src:En,style:{width:"1.5em"},class:"return",onClick:o}),ho(" "+tt(s.$t("settings.settings")),1)])]),(Ie(!0),Pe(rt,null,Bt(t,i=>(Ie(),Pe("div",{key:i.title,class:"settings-section"},[me("div",Pr,tt(s.$t("settings.".concat(i.title))),1),(Ie(!0),Pe(rt,null,Bt(i.items,c=>(Ie(),Pe("div",{key:c.key,class:"setting-item"},[me("span",Ir,tt(s.$t("settings.".concat(c.key))),1),c.type==="link"?(Ie(),Pe("div",Or,[go(Et(Sr),{options:c.options,size:"medium","default-value":c.value,"onUpdate:value":u=>{c.value=u,c.callBack&&c.callBack(u)}},null,8,["options","default-value","onUpdate:value"])])):c.type==="toggle"?(Ie(),Pe("label",Fr,[me("input",{type:"checkbox",checked:!!c.value,onClick:u=>{var d;return c.value=String((d=u.target)==null?void 0:d.checked)}},null,8,Mr),l[0]||(l[0]=me("span",{class:"slider"},null,-1))])):vo("",!0)]))),128))]))),128))]),me("div",_r,tt(Et(ro).version),1)],64))}}),Hr=oo($r,[["__scopeId","data-v-733d91d3"]]);export{Hr as default};

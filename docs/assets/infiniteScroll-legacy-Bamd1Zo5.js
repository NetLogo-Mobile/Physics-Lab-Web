System.register(["./vue-legacy-CyVmirYO.js","./index-legacy-CCR1C6SU.js"],function(e,t){"use strict";var r,l,a,n,o,i,s,u,c,v;return{setters:[e=>{r=e.j,l=e.r,a=e.w,n=e.o,o=e.D,i=e.K,s=e.m,u=e.L,c=e.O},e=>{v=e._}],execute:function(){var t=document.createElement("style");t.textContent=".scroll-container[data-v-f3f52871]{height:100%;overflow-y:auto}.observer-element[data-v-f3f52871]{height:10px;visibility:hidden;background-color:red;margin-top:-100px}.status-text[data-v-f3f52871]{text-align:center;padding:12px;color:#666;font-size:.9em}\n/*$vite$:1*/",document.head.appendChild(t);const d=r({__name:"infiniteScroll",props:{initialItems:{type:Array,default:()=>[]},hasMore:Boolean,scrollTarget:{type:String,default:null},marginTop:{type:Number,default:-800}},emits:["load"],setup(e,{expose:t,emit:r}){const v=e,d=r,f=l(),m=l(),p=l([...v.initialItems]),g=l(!1),y=l(!v.hasMore);let h;const x=async()=>{try{g.value=!0,d("load")}finally{g.value=!1}};return a(()=>v.hasMore,e=>{y.value=!e}),a(()=>v.initialItems,e=>{p.value=[...e]},{deep:!0}),n(()=>{var e;h=new IntersectionObserver(e=>{e.forEach(e=>{!e.isIntersecting||g.value||y.value||x()})},{root:v.scrollTarget?document.querySelector(v.scrollTarget):null,rootMargin:"200px",threshold:.1}),m.value&&h.observe(m.value),null===(e=m.value)||void 0===e||e.style.setProperty("margin-top",`${v.marginTop}px`)}),o(()=>{var e;return null===(e=h)||void 0===e?void 0:e.disconnect()}),t({reset:()=>{p.value=[...v.initialItems],y.value=!v.hasMore}}),(e,t)=>(c(),i("div",{ref_key:"scrollContainer",ref:f,class:"scroll-container"},[s(e.$slots,"default",{items:p.value},void 0,!0),u("div",{ref_key:"sentinel",ref:m,class:"observer-element"},null,512)],512))}});e("i",v(d,[["__scopeId","data-v-f3f52871"]]))}}});

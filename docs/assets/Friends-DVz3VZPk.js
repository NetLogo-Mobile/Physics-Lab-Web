import{d as p,v as b,b as u,c as h,f as a,u as e,C as w,s as $,_ as g,r as f,e as s,w as n,l as x,F as I,i as N,j as U,N as k,h as D,x as S,L,g as C,E,a as R,o as F,H as z,G as d,I as B,m as G}from"./index-CoMc71DP.js";const T={style:{padding:"0px 10px"}},P=["src"],V={class:"info"},j={class:"username"},H={class:"signature"},M=p({__name:"item",props:{user:{}},setup(o){const l=b(o.user);return(t,i)=>(u(),h("div",T,[a("div",{class:"user-item",onClick:i[0]||(i[0]=r=>e($)(t.user.ID))},[a("img",{class:"avatar",src:e(l)},null,8,P),a("div",V,[a("div",j,w(t.user.Nickname),1),a("div",H,w(t.user.Signature||"这个人很神秘，什么也没有写"),1)])])]))}}),Q=g(M,[["__scopeId","data-v-5797ca75"]]),W={class:"user-list"},q={key:0},A=p({__name:"list",props:{userid:String,type:String,cols:Number,height:String},setup(o){let l=f([]),t=f(!1),i=0,r=!1,v=!1;async function _(){if(t.value=!0,r){v||E.emit("warning","没有更多了",1),v=!0;return}const m=await C("/Users/GetRelations",{UserID:o.userid,DisplayType:o.type,Skip:i,Take:24,Query:""});m.Data.$values.length<24&&(r=!0),t.value=!1,i+=24,l.value.push(...m.Data.$values)}return _(),(m,te)=>(u(),h("div",W,[s(e(L),{distance:0,onLoad:_,style:S(`height: ${o.height}`)},{default:n(()=>[s(e(x),{cols:o.cols||2},{default:n(()=>[(u(!0),h(I,null,N(e(l),y=>(u(),U(e(k),{key:y.User.ID},{default:n(()=>[s(Q,{user:y.User},null,8,["user"])]),_:2},1024))),128))]),_:1},8,["cols"]),e(t)&&!e(r)?(u(),h("div",q,"加载中...")):D("",!0)]),_:1},8,["style"])]))}}),c=g(A,[["__scopeId","data-v-f36f128b"]]),J={class:"list"},K={class:"item"},O={class:"item"},X={class:"item"},Y={class:"item"},Z={class:"item"},ee={class:"item"},se=p({__name:"Friends",setup(o){const l=localStorage.getItem("userID"),t=f(i());function i(){return window.innerWidth>=800?3:2}const r=()=>{t.value=i()};return R(()=>{window.addEventListener("resize",r)}),F(()=>{window.removeEventListener("resize",r)}),(v,_)=>(u(),h(I,null,[s(z,null,{default:n(()=>_[0]||(_[0]=[a("h1",null,"好友",-1)])),_:1}),a("div",J,[s(e(B),{"default-value":"following","justify-content":"space-evenly",type:"line"},{default:n(()=>[s(e(d),{name:"following",tab:"关注"},{default:n(()=>[a("div",K,[s(c,{userid:e(l),type:"0",cols:t.value,height:"calc(100dvh - 180px)"},null,8,["userid","cols"])])]),_:1}),s(e(d),{name:"follower",tab:"粉丝"},{default:n(()=>[a("div",O,[s(c,{userid:e(l),type:"1",cols:t.value,height:"calc(100dvh - 180px)"},null,8,["userid","cols"])])]),_:1}),s(e(d),{name:"volunteers",tab:"志愿者"},{default:n(()=>[a("div",X,[s(c,{userid:e(l),type:"3",cols:t.value,height:"calc(100dvh - 180px)"},null,8,["userid","cols"])])]),_:1}),s(e(d),{name:"editors",tab:"编辑和管理员"},{default:n(()=>[a("div",Y,[s(c,{userid:e(l),type:"4",cols:t.value,height:"calc(100dvh - 180px)"},null,8,["userid","cols"])])]),_:1}),s(e(d),{name:"en",tab:"荣休编辑"},{default:n(()=>[a("div",Z,[s(c,{userid:e(l),type:"5",cols:t.value,height:"calc(100dvh - 180px)"},null,8,["userid","cols"])])]),_:1}),s(e(d),{name:"baned",tab:"小黑屋"},{default:n(()=>[a("div",ee,[s(c,{userid:e(l),type:"2",cols:t.value,height:"calc(100dvh - 180px)"},null,8,["userid","cols"])])]),_:1})]),_:1})]),s(G)],64))}}),le=g(se,[["__scopeId","data-v-b18533f4"]]);export{le as default};

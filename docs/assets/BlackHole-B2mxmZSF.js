import{j as D,r as p,o as b,e as B,K as y,J as r,L as i,R as l,S as P,k as v,v as h,F as N,W as S,M as a,O as o,Q as u}from"./vue-DM6FGnPB.js";import{u as A,g as T,H as j,N as x,F as $,a as C,B as E,E as w,b as V,c as M}from"./index-D6Hz3-vS.js";import"./domPurify-BPcjySmD.js";const W={id:"blackhole"},F={class:"loading"},H={class:"block-container"},R={class:"block",style:{height:"100%"}},q=D({__name:"BlackHole",setup(G){const n=p(!0),g=p([]),k={"internal://forum":()=>{window.$Logger.logEvent({category:"Activity",action:"Visit-External",label:"https://pl.turtlesim.com",timestamp:Date.now()}),window.open("https://pl.turtlesim.com")},"internal://co-dev":()=>{window.$Logger.logEvent({category:"Activity",action:"Visit-External",label:"https://github.com/NetLogo-Mobile/Physics-Lab-Web",timestamp:Date.now()}),window.open(window.$getPath("/@root/about"))}},L=e=>{const c=e?k[e]:void 0;return c?t=>{var s;(s=t==null?void 0:t.preventDefault)==null||s.call(t),c()}:()=>{}},{blockItemsPerRow:_,maxProjectsPerBlock:f}=A();return b(async()=>{const e=await T("/Contents/GetLibrary",{Identifier:"Discussions",Language:"Chinese"});n.value=!1,g.value=e.Data.Blocks}),B(()=>{window.$Logger.logPageView({pageLink:"/Discussions/",timeStamp:Date.now()}),window.$Logger.logPageView({pageLink:"/Library/Discussions/",timeStamp:Date.now()})}),(e,c)=>(o(),y("div",W,[r(j,null,{default:l(()=>[i("h1",null,P(e.$t("blackhole.title")),1)]),_:1}),i("main",null,[v(i("div",F,null,512),[[h,n.value]]),v(i("div",H,[r(a(x),{"x-gap":12,"y-gap":12,cols:a(_)},{default:l(()=>[(o(!0),y(N,null,S(g.value.filter(t=>t.Summaries.length>0),t=>(o(),u(a(C),{key:t.Subject},{default:l(()=>[i("div",R,[t.$type.startsWith("Quantum.Models.Contents.TopicBlock")?(o(),u(E,{key:0,type:"Discussion",projects:t.Summaries,activityName:t.AuxiliaryText||e.$t("blackhole.participate"),activityBackground:a(V)("/@base/assets/mechanics.png"),projectsName:t.Subject,activityProc:s=>{var m,d;return(d=(m=L(t.AuxiliaryLink||"internal://co-dev"))==null?void 0:m(s))!=null?d:void 0},link:a(w)(t.TargetLink)},null,8,["projects","activityName","activityBackground","projectsName","activityProc","link"])):(o(),u(M,{key:1,type:"Discussion",data:t.Summaries.slice(0,a(f)),title:t.Header,link:a(w)(t.TargetLink)},null,8,["data","title","link"]))])]),_:2},1024))),128))]),_:1},8,["cols"])],512),[[h,!n.value]])]),r($)]))}});export{q as default};

import{s as I}from"./usercard-CJfEyHAw.js";import{d as _,n as D,b as m,c as f,f as n,y as g,u as s,_ as h,r as y,e,w as r,l as $,F as w,i as b,j as N,N as k,G as U,g as L,E as S,a as x,o as E,H as R,C as d,D as B,m as C}from"./index-B-eZ0YOv.js";const F={style:{padding:"0px 10px"}},G=["src"],T={class:"info"},j={class:"username"},z={class:"signature"},P=_({__name:"item",props:{user:{}},setup(a){const l=D(()=>a.user.Avatar===0||a.user.Verification==="Banned"?"/src/assets/user/default-avatar.png":a.user.ID?`http://physics-static-cn.turtlesim.com:80/users/avatars/${a.user.ID.slice(0,4)}/${a.user.ID.slice(4,6)}/${a.user.ID.slice(6,8)}/${a.user.ID.slice(8,24)}/${a.user.Avatar}.jpg!small.round`:"/src/assets/user/default-avatar.png");return(t,i)=>(m(),f("div",F,[n("div",{class:"user-item",onClick:i[0]||(i[0]=u=>s(I)(t.user.ID))},[n("img",{class:"avatar",src:l.value,onerror:"this.src='/src/assets/user/default-avatar.png'"},null,8,G),n("div",T,[n("div",j,g(t.user.Nickname),1),n("div",z,g(t.user.Signature||"这个人很神秘，什么也没有写"),1)])])]))}}),V=h(P,[["__scopeId","data-v-1dee15b7"]]),A={class:"user-list"},H=_({__name:"list",props:{userid:String,type:String,cols:Number},setup(a){let l=y([]),t=0,i=!1,u=!1;async function v(){if(i){u||S.emit("warning","没有更多了",1),u=!0;return}const o=await L("/Users/GetRelations",{UserID:a.userid,DisplayType:a.type,Skip:t,Take:24,Query:""});o.Data.$values.length<24&&(i=!0),console.log(o.Data),t+=24,l.value.push(...o.Data.$values)}return v(),(o,Y)=>(m(),f("div",A,[e(s(U),{distance:0,onLoad:v,style:{height:"calc(100dvh - 160px)"}},{default:r(()=>[e(s($),{cols:a.cols||2},{default:r(()=>[(m(!0),f(w,null,b(s(l),p=>(m(),N(s(k),{key:p.User.ID},{default:r(()=>[e(V,{user:p.User},null,8,["user"])]),_:2},1024))),128))]),_:1},8,["cols"])]),_:1})]))}}),c=h(H,[["__scopeId","data-v-9c6f0554"]]),M={class:"list"},Q={class:"item"},W={class:"item"},q={class:"item"},J={class:"item"},K={class:"item"},O={class:"item"},X=_({__name:"Friends",setup(a){const l=localStorage.getItem("userID"),t=y(i());function i(){return window.innerWidth>=800?3:2}const u=()=>{t.value=i()};return x(()=>{window.addEventListener("resize",u)}),E(()=>{window.removeEventListener("resize",u)}),(v,o)=>(m(),f(w,null,[e(R,null,{default:r(()=>o[0]||(o[0]=[n("h1",null,"好友",-1)])),_:1}),n("div",M,[e(s(B),{"default-value":"following","justify-content":"space-evenly",type:"line"},{default:r(()=>[e(s(d),{name:"following",tab:"关注"},{default:r(()=>[n("div",Q,[e(c,{userid:s(l),type:"0",cols:t.value},null,8,["userid","cols"])])]),_:1}),e(s(d),{name:"follower",tab:"粉丝"},{default:r(()=>[n("div",W,[e(c,{userid:s(l),type:"1",cols:t.value},null,8,["userid","cols"])])]),_:1}),e(s(d),{name:"volunteers",tab:"志愿者"},{default:r(()=>[n("div",q,[e(c,{userid:s(l),type:"3",cols:t.value},null,8,["userid","cols"])])]),_:1}),e(s(d),{name:"editors",tab:"编辑和管理员"},{default:r(()=>[n("div",J,[e(c,{userid:s(l),type:"4",cols:t.value},null,8,["userid","cols"])])]),_:1}),e(s(d),{name:"en",tab:"荣休编辑"},{default:r(()=>[n("div",K,[e(c,{userid:s(l),type:"5",cols:t.value},null,8,["userid","cols"])])]),_:1}),e(s(d),{name:"baned",tab:"小黑屋"},{default:r(()=>[n("div",O,[e(c,{userid:s(l),type:"2",cols:t.value},null,8,["userid","cols"])])]),_:1})]),_:1})]),e(C)],64))}}),se=h(X,[["__scopeId","data-v-382ad233"]]);export{se as default};

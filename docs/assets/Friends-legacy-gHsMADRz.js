System.register(["./index-legacy-Jyate2Ug.js","./vue-legacy-BtgHrQi9.js","./infiniteScroll-legacy-D9EtErDf.js","./domPurify-legacy-Dg5y-r5Q.js"],function(e,a){"use strict";var t,s,i,l,r,n,u,o,d,c,p,v,f,g,m,y,w,h,b,x,_,S,k,D,I,j,z,F,N,$,U;return{setters:[e=>{t=e.b,s=e.i,i=e.s,l=e.g,r=e._,n=e.N,u=e.f,o=e.a,d=e.e,c=e.u,p=e.d,v=e.h,f=e.H,g=e.k,m=e.l,y=e.F},e=>{w=e.j,h=e.r,b=e.o,x=e.K,_=e.O,S=e.L,k=e.M,D=e.S,I=e.Q,j=e.R,z=e.J,F=e.F,N=e.W,$=e.e},e=>{U=e.i},null],execute:function(){var a=document.createElement("style");a.textContent=".user-item[data-v-e677c4a0]{height:60px;display:flex;align-items:center;border-radius:8px;transition:background .2s;cursor:pointer;background-color:#fff;margin:10px 0 10px 15px}.avatar[data-v-e677c4a0]{width:63px;height:63px;border-radius:50%;margin-right:12px;margin-left:-15px;display:flex;align-items:center;justify-content:center;background-size:cover;background-repeat:no-repeat}.info[data-v-e677c4a0]{flex:1;min-width:0;text-align:left}.username[data-v-e677c4a0]{margin-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.signature[data-v-e677c4a0]{font-size:12px;color:#666;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.icon[data-v-e677c4a0]{height:25px;width:25px;margin-right:20px}.icon>img[data-v-e677c4a0]{width:100%}.list[data-v-d008e612]{width:100%;margin-top:50px}.item[data-v-d008e612]{position:absolute;width:100%;height:calc(100% - 160px);overflow-x:hidden;background-color:rgba(204,204,204,.2)}\n/*$vite$:1*/",document.head.appendChild(a);const L={style:{padding:"0px 10px"}},R=["src"],C={class:"info"},P={class:"username"},G={class:"signature"},O={class:"icon"},Q=["src"],T=r(w({__name:"item",props:{user:{}},setup(e){const a=h(t("/@base/assets/user/Status-None.png")),r=s(e.user);return b(async()=>{const s=await async function(){const a=await l("/Users/GetUser",{ID:e.user.ID});return function(e){switch(e){case 1:return"/@base/assets/user/Status-Following.png";case 2:return"/@base/assets/user/Status-Followed.png";case 3:return"/@base/assets/user/Status-Friend.png";default:return"/@base/assets/user/Status-None.png"}}(Number(a.Data.Relation))}();a.value=t(s)}),(t,s)=>(_(),x("div",L,[S("div",{class:"user-item",onClick:s[0]||(s[0]=a=>k(i)(e.user.ID))},[S("img",{class:"avatar",src:k(r)},null,8,R),S("div",C,[S("div",P,D(e.user.Nickname),1),S("div",G,D(e.user.Signature||t.$t("user.noSignature")),1)]),S("div",O,[S("img",{src:a.value},null,8,Q)])])]))}}),[["__scopeId","data-v-e677c4a0"]]),E=w({__name:"list",props:{userid:String,type:String,cols:Number},setup(e){let a=h(!1),t=h(0),s=h(!1),i=h(!1);const r=h([]);async function d(){if(!e.userid)return;if(a.value)return;if(a.value=!0,s.value)return i.value||u.emit("warning","没有更多了",1),void(i.value=!0);const n=await l("/Users/GetRelations",{UserID:e.userid,DisplayType:e.type,Skip:t.value,Take:24,Query:""});s.value=n.Data.$values.length<24,a.value=!1,t.value+=24,r.value=[...r.value,...n.Data.$values]}return window.$Logger.logPageView({pageLink:`/Social/Friends/${Number(e.type)}/`,timeStamp:Date.now()}),d(),(a,t)=>(_(),I(U,{"initial-items":r.value,"has-more":!k(s),"margin-top":-200,onLoad:d},{default:j(({items:a})=>[z(k(n),{cols:e.cols||2},{default:j(()=>[(_(!0),x(F,null,N(a,e=>(_(),I(k(o),{key:e.User.ID},{default:j(()=>[z(T,{user:e.User},null,8,["user"])]),_:2},1024))),128))]),_:2},1032,["cols"])]),_:1},8,["initial-items","has-more"]))}}),H={class:"list"},J={class:"item"},K={class:"item"},M={class:"item"},V={class:"item"},W={class:"item"},q={class:"item"};e("default",r(w({__name:"Friends",setup(e){var a;const t=null===(a=d.getObj("userInfo").value)||void 0===a?void 0:a.id,{friendItemsPerRow:s}=c(),{t:i}=p();return $(v),b(v),(e,a)=>(_(),x(F,null,[z(f,null,{default:j(()=>[S("h1",null,D(k(i)("friends.title")),1)]),_:1}),S("div",H,[z(k(m),{"default-value":"following","justify-content":"space-evenly",type:"line"},{default:j(()=>[z(k(g),{name:"following",tab:k(i)("friends.following"),"display-directive":"show:lazy"},{default:j(()=>[S("div",J,[z(E,{userid:k(t),type:"1",cols:k(s)},null,8,["userid","cols"])])]),_:1},8,["tab"]),z(k(g),{name:"follower",tab:k(i)("friends.follower"),"display-directive":"show:lazy"},{default:j(()=>[S("div",K,[z(E,{userid:k(t),type:"0",cols:k(s)},null,8,["userid","cols"])])]),_:1},8,["tab"]),z(k(g),{name:"volunteers",tab:k(i)("friends.volunteers"),"display-directive":"show:lazy"},{default:j(()=>[S("div",M,[z(E,{userid:k(t),type:"3",cols:k(s)},null,8,["userid","cols"])])]),_:1},8,["tab"]),z(k(g),{name:"editors",tab:k(i)("friends.editors"),"display-directive":"show:lazy"},{default:j(()=>[S("div",V,[z(E,{userid:k(t),type:"4",cols:k(s)},null,8,["userid","cols"])])]),_:1},8,["tab"]),z(k(g),{name:"en",tab:k(i)("friends.retired"),"display-directive":"show:lazy"},{default:j(()=>[S("div",W,[z(E,{userid:k(t),type:"5",cols:k(s)},null,8,["userid","cols"])])]),_:1},8,["tab"]),z(k(g),{name:"baned",tab:k(i)("friends.baned"),"display-directive":"show:lazy"},{default:j(()=>[S("div",q,[z(E,{userid:k(t),type:"2",cols:k(s)},null,8,["userid","cols"])])]),_:1},8,["tab"])]),_:1})]),z(y)],64))}}),[["__scopeId","data-v-d008e612"]]))}}});
